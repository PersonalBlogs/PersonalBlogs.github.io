<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="L6Lm9d5Crl"/>
  
  
  
  
  <title>Hexo-Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo-Blog">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="Hexo-Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="å»–å®¶é¾™-13176171912">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="Hexo-Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/avatar.png">
  
  
  
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- åŠ è½½ç‰¹æ•ˆ -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
<meta name="generator" content="Hexo 5.1.1"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

        <a href="/" class="profilepic">
            
            <img lazy-src="/img/avatar.png" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/"></a></h1>
        </hgroup>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="æœç´¢ä¸€ä¸‹" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">

                        
                        <li><å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“></li>


                        
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/">&lt;å…³äºæœ¬ç«™&gt;</a></li>
                        
                            <li><a  href="/archives/">ğŸ‘‰é¦–é¡µğŸ‘ˆ</a></li>
                        
                            <li><a  href="/tags">&lt;åˆ†ç±»ã€æ ‡ç­¾&gt;</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/C-%E8%AF%AD%E8%A8%80/" style="font-size: 13.64px;">C++è¯­è¨€</a> <a href="/tags/C%E5%AE%9E%E4%BE%8B/" style="font-size: 16.36px;">Cå®ä¾‹</a> <a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 13.64px;">Cè¯­è¨€</a> <a href="/tags/LeetCode/" style="font-size: 10.91px;">LeetCode</a> <a href="/tags/Objective-C/" style="font-size: 20px;">Objective-C</a> <a href="/tags/Swift/" style="font-size: 10px;">Swift</a> <a href="/tags/UI/" style="font-size: 11.82px;">UI</a> <a href="/tags/Ubuntu-Server/" style="font-size: 12.73px;">Ubuntu Server</a> <a href="/tags/iOS-%E5%8A%9F%E8%83%BDdemo/" style="font-size: 17.27px;">iOS-åŠŸèƒ½demo</a> <a href="/tags/macOS/" style="font-size: 10px;">macOS</a> <a href="/tags/%E3%80%8AMySQL%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A%E3%80%8B/" style="font-size: 15.45px;">ã€ŠMySQLå¿…çŸ¥å¿…ä¼šã€‹</a> <a href="/tags/%E3%80%8A%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80-%E7%AC%AC4%E7%89%88-%E3%80%8B/" style="font-size: 10.91px;">ã€Šæ±‡ç¼–è¯­è¨€(ç¬¬4ç‰ˆ)ã€‹</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%AE%9E%E6%88%98/" style="font-size: 10px;">å¤šçº¿ç¨‹å®æˆ˜</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/" style="font-size: 14.55px;">æ“ä½œç³»ç»ŸåŸç†</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%81%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/" style="font-size: 19.09px;">æ•°æ®ç»“æ„ã€ç®—æ³•ç¬”è®°</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/" style="font-size: 18.18px;">è®¡ç®—æœºç½‘ç»œåŸç†</a>
                    </div>
                </section>
                
                
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="å›åˆ°ä¸»é¡µ"></a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/avatar.png" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="å›åˆ°ä¸»é¡µ"></a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/">&lt;å…³äºæœ¬ç«™&gt;</a></li>
                
                    <li><a href="/archives/">ğŸ‘‰é¦–é¡µğŸ‘ˆ</a></li>
                
                    <li><a href="/tags">&lt;åˆ†ç±»ã€æ ‡ç­¾&gt;</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                </div>
            </nav>
        </header>
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-ä»£ç ä»“åº“/iOS-åŠŸèƒ½demo/UIDatePicker" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2021/04/11/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/UIDatePicker/" class="article-date">
      <time datetime="2021-04-10T16:00:00.000Z" itemprop="datePublished">2021-04-11</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2021/04/11/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/UIDatePicker/">UIDatePicker</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line"></span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view.</span><br><span class="line">        </span><br><span class="line">        //UIDatePickeræ˜¯ä¸€ä¸ªæ§åˆ¶å™¨ç±»ï¼Œå°è£…äº†UIPickerViewï¼Œç»§æ‰¿è‡ªUIControlï¼Œä¸“é—¨ç”¨äºæ¥å—æ—¥æœŸå’Œæ—¶é—´çš„è¾“å…¥</span><br><span class="line">        //UIDatePickerä½¿ç”¨å¤šä¸ªå¯è½¬åŠ¨çš„è½®å­æ¥è®©ç”¨æˆ·é€‰æ‹©æ—¥æœŸå’Œæ—¶é—´ï¼Œå½“ç”¨æˆ·è½¬åŠ¨å®Œè½®å­æ”¹å˜æ—¥æœŸæˆ–æ—¶é—´çš„æ—¶å€™ï¼ŒUIDatePickerä¼šå‘é€UIControlEvents.valueChangedæ¶ˆæ¯ï¼Œé€šè¿‡æ¡¢å¬è¿™ä¸ªæ¶ˆæ¯å¯ä»¥åšå‡ºç›¸åº”çš„å¤„ç†</span><br><span class="line">        //UIDatePickerå…·æœ‰4ç§æ˜¾ç¤ºæ¨¡å¼ï¼šæ—¥æœŸå’Œæ—¶é—´ã€æ—¥æœŸã€æ—¶é—´ã€è®¡æ—¶</span><br><span class="line">        </span><br><span class="line">        let datePicker = UIDatePicker()</span><br><span class="line">        datePicker.center = CGPoint(x: 160, y: 200)  //è®¾ç½®å®ƒçš„ä¸­å¿ƒç‚¹ä½ç½®</span><br><span class="line">        datePicker.tag = 1  //åé¢å°†é€šè¿‡è¯¥tagå€¼è·å¾—è¿™ä¸ªUIDatePickerå¯¹è±¡</span><br><span class="line">        </span><br><span class="line">        datePicker.datePickerMode = UIDatePicker.Mode.dateAndTime  //è®¾ç½®å…¶æ˜¾ç¤ºæ¨¡å¼ä¸ºæ—¥æœŸæ—¶é—´</span><br><span class="line">        </span><br><span class="line">        //è®¾ç½®UIDatePickerå¯¹è±¡çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œä»è€Œåªå…è®¸ç”¨æˆ·è®¾ç½®åœ¨ä¸¤ä¸ªæ•°å€¼ä¹‹é—´çš„æ—¥æœŸå’Œæ—¶é—´</span><br><span class="line">        datePicker.minimumDate = Date()</span><br><span class="line">        datePicker.maximumDate = Date(timeInterval: 3*24*60*60, since: Date())</span><br><span class="line">        self.view.addSubview(datePicker)</span><br><span class="line">        </span><br><span class="line">        let button = UIButton(type: UIButton.ButtonType.roundedRect)</span><br><span class="line">        button.frame = CGRect(x: 20, y: 360, width: 280, height: 44)</span><br><span class="line">        button.backgroundColor = UIColor.orange</span><br><span class="line">        button.setTitle(&quot;Get Date&quot;, for: .normal)</span><br><span class="line">        </span><br><span class="line">        //å½“ç‚¹å‡»è¯¥æŒ‰é’®æ—¶ï¼Œè·å–UIDatePickeræ—¥æœŸæ—¶é—´æ‹¾å–å™¨çš„å½“å‰å€¼</span><br><span class="line">        button.addTarget(self, action: #selector(getDateTime(_ :)), for: .touchUpInside)</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(button)</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @objc func getDateTime(_ button: UIButton) &#123;</span><br><span class="line">        </span><br><span class="line">        let datePicker = self.view.viewWithTag(1) as! UIDatePicker  //é€šè¿‡tagå€¼è·å¾—æ—¥æœŸæ—¶é—´æ‹¾å–å™¨</span><br><span class="line">        let date = datePicker.date  //è·å¾—æ‹¾å–çš„å€¼</span><br><span class="line">        </span><br><span class="line">        //å°†æ—¥æœŸè½¬æ¢ä¸ºå­—ç¬¦ä¸²</span><br><span class="line">        let dateFormatter = DateFormatter()</span><br><span class="line">        dateFormatter.dateFormat = &quot;yyyy-MM-dd HH:mm&quot;</span><br><span class="line">        let dateAndTime = dateFormatter.string(from: date)</span><br><span class="line">        </span><br><span class="line">        print(dateAndTime)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/">ä»£ç ä»“åº“</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS-%E5%8A%9F%E8%83%BDdemo/" rel="tag">iOS-åŠŸèƒ½demo</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-ä»£ç ä»“åº“/iOS-åŠŸèƒ½demo/UIStackView" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2021/04/10/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/UIStackView/" class="article-date">
      <time datetime="2021-04-09T16:00:00.000Z" itemprop="datePublished">2021-04-10</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2021/04/10/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/UIStackView/">UIStackView</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    </span><br><span class="line">    var stackView: UIStackView!  //ä½œä¸ºè§†å›¾çš„å¸ƒå±€å®¹å™¨</span><br><span class="line"></span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view.</span><br><span class="line">        </span><br><span class="line">        //UIStackViewçš„ä¸»è¦åŠŸèƒ½ä¸æ˜¯ç”¨æ¥å±•ç¤ºå†…å®¹çš„ï¼Œè€Œæ˜¯ç”¨æ¥ç»„ç»‡ã€å¸ƒå±€æ˜¾ç¤ºå†…å®¹çš„è§†å›¾</span><br><span class="line">        </span><br><span class="line">        //UIStackViewç±»çš„ä¸»è¦å±æ€§ï¼š</span><br><span class="line">        //axiså±æ€§ï¼šç”¨äºå®šä¹‰å­è§†å›¾çš„æ’åˆ—æ–¹å‘ï¼Œæ¨ªå‘æˆ–çºµå‘</span><br><span class="line">        //spacingå±æ€§ï¼šç”¨æ¥æ§åˆ¶å­è§†å›¾çš„é—´è·</span><br><span class="line">        //alignmentå±æ€§ï¼šç”¨æ¥å®šä¹‰å­è§†å›¾ä¹‹é—´æ²¿ç€axisæ–¹å‘çš„å¯¹é½æ–¹å¼ï¼Œå¦‚é¡¶éƒ¨å¯¹é½ã€åº•éƒ¨å¯¹é½ã€å·¦å¯¹é½</span><br><span class="line">        //distributionå±æ€§ï¼šç”¨æ¥å®šä¹‰å­è§†å›¾æ²¿ç€axisæ’åˆ—çš„å¸ƒå±€è§„åˆ™</span><br><span class="line">        </span><br><span class="line">        let view1 = UIView()</span><br><span class="line">        let view2 = UIView()</span><br><span class="line">        let view3 = UIView()</span><br><span class="line">        view1.backgroundColor = .red</span><br><span class="line">        view2.backgroundColor = .orange</span><br><span class="line">        view3.backgroundColor = .blue</span><br><span class="line">        </span><br><span class="line">        stackView = UIStackView(arrangedSubviews: [view1, view2, view3])  //è¿™ä¸‰ä¸ªè§†å›¾å¯¹è±¡å°†è¢«æ·»åŠ åˆ°UIStackViewå®¹å™¨å†…</span><br><span class="line">        stackView.frame = CGRect(x: 0, y: 0, width: 320, height: 400)</span><br><span class="line">        stackView.axis = NSLayoutConstraint.Axis.horizontal  //åœ¨æ°´å¹³æ–¹å‘ä¸Šæ’åˆ—å­è§†å›¾</span><br><span class="line">        stackView.alignment = UIStackView.Alignment.fill  //é€šè¿‡è°ƒæ•´å­è§†å›¾çš„å°ºå¯¸åœ¨axisè®¾å®šçš„æ–¹å‘ä¸Šå¡«å……stackViewå®¹å™¨çš„å¯ç”¨ç©ºé—´</span><br><span class="line">        stackView.distribution = UIStackView.Distribution.fillEqually  //çº¦æŸå­è§†å›¾å…·æœ‰ç›¸åŒçš„å°ºå¯¸ï¼Œä»è€Œä½¿å­è§†å›¾æ²¿ç€axisæ–¹å‘ä¸Šå¡«å……stackViewå®¹å™¨çš„å¯ç”¨ç©ºé—´</span><br><span class="line">        </span><br><span class="line">        stackView.spacing = 10</span><br><span class="line">        stackView.backgroundColor = .orange</span><br><span class="line">        self.view.addSubview(stackView)</span><br><span class="line">        </span><br><span class="line">        let spaccing = UIButton(type: UIButton.ButtonType.roundedRect)</span><br><span class="line">        spaccing.frame = CGRect(x: 20, y: 420, width: 280, height: 30)</span><br><span class="line">        spaccing.setTitle(&quot;å¢åŠ é—´è·&quot;, for: .normal)</span><br><span class="line">        spaccing.addTarget(self, action: #selector(setCustomSpacing(_ :)), for: .touchUpInside)</span><br><span class="line">        self.view.addSubview(spaccing)</span><br><span class="line">        </span><br><span class="line">        let insert = UIButton(type: UIButton.ButtonType.roundedRect)</span><br><span class="line">        insert.frame = CGRect(x: 20, y: 460, width: 280, height: 30)</span><br><span class="line">        insert.setTitle(&quot;æ’å…¥è§†å›¾&quot;, for: .normal)</span><br><span class="line">        insert.addTarget(self, action: #selector(insertArrangedSubview(_ :)), for: .touchUpInside)</span><br><span class="line">        self.view.addSubview(insert)</span><br><span class="line">        </span><br><span class="line">        let remove = UIButton(type: UIButton.ButtonType.roundedRect)</span><br><span class="line">        remove.frame = CGRect(x: 20, y: 500, width: 280, height: 30)</span><br><span class="line">        remove.setTitle(&quot;åˆ é™¤è§†å›¾&quot;, for: .normal)</span><br><span class="line">        remove.addTarget(self, action: #selector(removeArrangedSubview(_ :)), for: .touchUpInside)</span><br><span class="line">        self.view.addSubview(remove)</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //å½“ç‚¹å‡»ç¬¬ä¸€ä¸ªæŒ‰é’®æ—¶ï¼Œè°ƒæ•´ç¬¬äºŒä¸ªå­è§†å›¾å’Œç¬¬ä¸‰ä¸ªå­è§†å›¾çš„é—´è·</span><br><span class="line">    @objc func setCustomSpacing(_ button: UIButton) &#123;</span><br><span class="line">        </span><br><span class="line">        let view = stackView.arrangedSubviews[1]</span><br><span class="line">        stackView.setCustomSpacing(30, after: view)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //å½“ç‚¹å‡»ç¬¬äºŒä¸ªæŒ‰é’®æ—¶ï¼Œåœ¨ç¬¬äºŒä¸ªå­è§†å›¾çš„å³ä¾§æ·»åŠ ä¸€ä¸ªæ–°çš„è§†å›¾å¯¹è±¡</span><br><span class="line">    @objc func insertArrangedSubview(_ button: UIButton) &#123;</span><br><span class="line">        </span><br><span class="line">        let view = UIView()</span><br><span class="line">        view.backgroundColor = .green</span><br><span class="line">        stackView.insertArrangedSubview(view, at: 2)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //å½“ç‚¹å‡»ç¬¬ä¸‰ä¸ªæŒ‰é’®æ—¶ï¼Œåˆ é™¤ç¬¬äºŒä¸ªå­è§†å›¾</span><br><span class="line">    @objc func removeArrangedSubview(_ button: UIButton) &#123;</span><br><span class="line">        </span><br><span class="line">        let view = stackView.arrangedSubviews[1]</span><br><span class="line">        stackView.removeArrangedSubview(view)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/">ä»£ç ä»“åº“</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS-%E5%8A%9F%E8%83%BDdemo/" rel="tag">iOS-åŠŸèƒ½demo</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-ä»£ç ä»“åº“/iOS-åŠŸèƒ½demo/UITableView" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2021/04/09/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/UITableView/" class="article-date">
      <time datetime="2021-04-08T16:00:00.000Z" itemprop="datePublished">2021-04-09</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2021/04/09/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/UITableView/">UITableView</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<h3 id="åˆ›å»ºä¸€ä¸ªç®€å•çš„è¡¨æ ¼"><a href="#åˆ›å»ºä¸€ä¸ªç®€å•çš„è¡¨æ ¼" class="headerlink" title="åˆ›å»ºä¸€ä¸ªç®€å•çš„è¡¨æ ¼"></a>åˆ›å»ºä¸€ä¸ªç®€å•çš„è¡¨æ ¼</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">//æ·»åŠ åè®®ï¼Œä¸»è¦ç”¨æ¥ç»™UITableViewè¡¨æ ¼æä¾›æ•°æ®æ¥æºï¼Œå¹¶ç”¨æ¥å¤„ç†æ•°æ®æºçš„å˜åŒ–</span><br><span class="line">class ViewController: UIViewController, UITableViewDataSource &#123;</span><br><span class="line">    </span><br><span class="line">    //ç”±äºè¡¨æ ¼é»˜è®¤æ‹¥æœ‰ä¸€ä¸ªç« èŠ‚ï¼Œå› æ­¤åœ¨æ­¤è®¾ç½®äº†é»˜è®¤ç« èŠ‚å…·æœ‰20è¡Œæ•°æ®</span><br><span class="line">    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123;</span><br><span class="line">        return 20</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //åˆå§‹åŒ–å’Œå¤ç”¨å•å…ƒæ ¼ï¼Œæ¯å½“è¡¨æ ¼å¯¹è±¡éœ€è¦ç»˜åˆ¶ä¸€ä¸ªå•å…ƒæ ¼æ—¶ï¼Œéƒ½ä¼šè°ƒç”¨è¯¥æ–¹æ³•</span><br><span class="line">    //UITableViewçš„å¤ç”¨æœºåˆ¶</span><br><span class="line">    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123;</span><br><span class="line">        </span><br><span class="line">        let identifier = &quot;reusedCell&quot;  //ä½œä¸ºå•å…ƒæ ¼çš„ç±»å‹</span><br><span class="line">        var cell = tableView.dequeueReusableCell(withIdentifier: identifier)  //ä»å•å…ƒæ ¼å¯¹è±¡æ± ä¸­è·å–æŒ‡å®šç±»å‹å¹¶ä¸”å¯ä»¥é‡å¤ä½¿ç”¨çš„å•å…ƒæ ¼</span><br><span class="line">        </span><br><span class="line">        //UITableViewCell.CellStyle.defaultï¼šåŒ…å«ä¸€ä¸ªä½äºå•å…ƒæ ¼å·¦ä¾§çš„å¯é€‰å›¾åƒè§†å›¾å’Œä¸€ä¸ªå·¦å¯¹é½çš„æ ‡ç­¾å¯¹è±¡</span><br><span class="line">        //UITableViewCell.CellStyle.value1ï¼šåŒ…å«ä¸€ä¸ªä½äºå•å…ƒæ ¼å·¦ä¾§çš„å¯é€‰å›¾åƒè§†å›¾å’Œä¸€ä¸ªå·¦å¯¹é½çš„æ ‡ç­¾å¯¹è±¡ï¼Œåœ¨å•å…ƒæ ¼çš„å³ä¾§è¿˜æœ‰ä¸€ä¸ªç°è‰²ã€å³å¯¹é½çš„æ ‡ç­¾å¯¹è±¡</span><br><span class="line">        //UITableViewCell.CellStyle.value2ï¼šåŒ…å«ä¸€ä¸ªä½äºå•å…ƒæ ¼å·¦ä¾§çš„ã€å³å¯¹é½çš„ã€è“è‰²æ–‡å­—çš„æ ‡ç­¾å¯¹è±¡å’Œä¸€ä¸ªä½äºå³ä¾§çš„å·¦å¯¹é½æ ‡ç­¾å¯¹è±¡</span><br><span class="line">        //UITableViewCell.CellStyle.subtitleï¼šåŒ…å«ä¸€ä¸ªä½äºå•å…ƒæ ¼å·¦ä¾§çš„å¯é€‰å›¾åƒè§†å›¾å’Œä¸€ä¸ªå·¦å¯¹é½çš„æ ‡ç­¾å¯¹è±¡ï¼Œåœ¨è¯¥æ ‡ç­¾å¯¹è±¡ä¸‹æ–¹è¿˜æœ‰ä¸€ä¸ªå­—ä½“è¾ƒå°çš„æ ‡ç­¾å¯¹è±¡</span><br><span class="line">        if cell == nil &#123;</span><br><span class="line">            //ä»å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å•å…ƒæ ¼UITableViewCellå¯¹è±¡</span><br><span class="line">            cell = UITableViewCell(style: UITableViewCell.CellStyle.default, reuseIdentifier: identifier)  //ä½¿ç”¨é¢„å®šä¹‰çš„å•å…ƒæ ¼åªéœ€ä¸ºæ ‡ç­¾å’Œå›¾æ ‡æä¾›å¯¹åº”çš„æ–‡å­—å†…å®¹å’Œå›¾åƒå†…å®¹å³å¯ï¼Œå¯ä»¥ä½¿ç”¨textLabelå’ŒdetailTextLabelå±æ€§æ¥è®¾ç½®å•å…ƒæ ¼çš„æ–‡å­—å†…å®¹ï¼Œä½¿ç”¨imageViewå±æ€§æ¥è®¾ç½®å•å…ƒæ ¼çš„å›¾æ ‡</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        cell?.textLabel?.text = &quot;å‘½è¿è´Ÿè´£æ´—ç‰Œï¼Œç©ç‰Œçš„æ˜¯æˆ‘ä»¬è‡ªå·±ï¼&quot;</span><br><span class="line">        </span><br><span class="line">        return cell!</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view.</span><br><span class="line">        </span><br><span class="line">        //UITableViewç”¨äºåœ¨ä¸€æ å†…æ˜¾ç¤ºä¸€ç³»åˆ—å¯¹è±¡ï¼Œå®ƒæ˜¯UIScorllViewçš„å­ç±»ï¼ŒUIScorllViewå¯ä»¥åœ¨ä»»æ„æ–¹å‘ä¸Šæ»‘åŠ¨å†…å®¹ï¼Œè€ŒUITableViewä»…æ”¯æŒåœ¨å‚ç›´æ–¹å‘ä¸Šçš„æ»‘åŠ¨</span><br><span class="line">        //UITableViewç”±å•å…ƒæ ¼UITableViewCellç»„æˆï¼ŒUITableViewä¸­çš„å†…å®¹éƒ½æ˜¯ç”±UITableViewCellè´Ÿè´£æ˜¾ç¤ºçš„ï¼ŒUITableViewçš„è¡Œæ•°(å³UITableViewCellå¯¹è±¡çš„æ•°é‡)ä¸å—é™åˆ¶ï¼Œä»…ç”±è®¾å¤‡çš„å†…å­˜å†³å®š</span><br><span class="line">        </span><br><span class="line">        let screenRect = UIScreen.main.bounds  //è·å¾—å½“å‰è®¾å¤‡çš„å±å¹•å°ºå¯¸</span><br><span class="line">        </span><br><span class="line">        let tableRect = CGRect(x: 0, y: 20, width: screenRect.size.width, height: screenRect.size.height-20)</span><br><span class="line">        let tableView = UITableView(frame: tableRect)</span><br><span class="line">        </span><br><span class="line">        tableView.dataSource = self  //è®¾ç½®UITableViewå¯¹è±¡çš„æ•°æ®æºä¸ºå½“å‰çš„è§†å›¾æ§åˆ¶å™¨å¯¹è±¡ï¼Œå³ç”±å½“å‰çš„è§†å›¾æ§åˆ¶å¯¹è±¡å®ç°æ•°æ®æºåè®®ä¸­å®šä¹‰çš„å„ç§ä»£ç†æ–¹æ³•</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(tableView)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="è‡ªå®šä¹‰å•å…ƒæ ¼UITableViewCell"><a href="#è‡ªå®šä¹‰å•å…ƒæ ¼UITableViewCell" class="headerlink" title="è‡ªå®šä¹‰å•å…ƒæ ¼UITableViewCell"></a>è‡ªå®šä¹‰å•å…ƒæ ¼UITableViewCell</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class CustomizeUITableViewCell: UITableViewCell &#123;</span><br><span class="line">    </span><br><span class="line">    var thumbnail: UIImageView!</span><br><span class="line">    var title: UILabel!</span><br><span class="line">    var detail: UIButton!</span><br><span class="line">    </span><br><span class="line">    //é‡å†™UITableViewCellç±»çš„åˆå§‹åŒ–æ–¹å¼</span><br><span class="line">    override init(style: UITableViewCell.CellStyle, reuseIdentifier: String?) &#123;</span><br><span class="line">        </span><br><span class="line">        super.init(style: style, reuseIdentifier: reuseIdentifier)</span><br><span class="line">        </span><br><span class="line">        self.thumbnail = UIImageView(image: UIImage(named: &quot;user&quot;))</span><br><span class="line">        self.thumbnail.center = CGPoint(x: 30, y: 22)</span><br><span class="line">        self.title = UILabel(frame: CGRect(x: 80, y: 0, width: 120, height: 40))</span><br><span class="line">        self.title.text = &quot;è‡ªå®šä¹‰å•å…ƒæ ¼&quot;</span><br><span class="line">        </span><br><span class="line">        self.detail = UIButton(frame: CGRect(x: 240, y: 8, width: 60, height: 24))</span><br><span class="line">        self.detail.setTitle(&quot;è¯¦æƒ…&quot;, for: .normal)</span><br><span class="line">        self.detail.backgroundColor = UIColor.gray</span><br><span class="line">        </span><br><span class="line">        //äº‹ä»¶ç‚¹å‡»ä¸äº†ï¼Ÿ</span><br><span class="line">        self.detail.addTarget(self, action: &quot;showDetail:&quot;, for: UIControl.Event.touchUpInside)</span><br><span class="line">        </span><br><span class="line">        self.addSubview(self.thumbnail)</span><br><span class="line">        self.addSubview(self.title)</span><br><span class="line">        self.addSubview(self.detail)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func showDetail(_ sender: UIButton) &#123;</span><br><span class="line">        print(&quot;æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //å®ç°äº†ç»§æ‰¿UITableViewCellç±»æ‰€å¿…éœ€çš„æ„é€ æ–¹æ³•</span><br><span class="line">    required init?(coder: NSCoder) &#123;</span><br><span class="line">        fatalError(&quot;init(coder:) has not been implemented&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    override func awakeFromNib() &#123;</span><br><span class="line">        super.awakeFromNib()</span><br><span class="line">        // Initialization code</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    override func setSelected(_ selected: Bool, animated: Bool) &#123;</span><br><span class="line">        super.setSelected(selected, animated: animated)</span><br><span class="line"></span><br><span class="line">        // Configure the view for the selected state</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">//æ·»åŠ åè®®ï¼Œä¸»è¦ç”¨æ¥ç»™UITableViewè¡¨æ ¼æä¾›æ•°æ®æ¥æºï¼Œå¹¶ç”¨æ¥å¤„ç†æ•°æ®æºçš„å˜åŒ–</span><br><span class="line">class ViewController: UIViewController, UITableViewDataSource &#123;</span><br><span class="line">    </span><br><span class="line">    //ç”±äºè¡¨æ ¼é»˜è®¤æ‹¥æœ‰ä¸€ä¸ªç« èŠ‚ï¼Œå› æ­¤åœ¨æ­¤è®¾ç½®äº†é»˜è®¤ç« èŠ‚å…·æœ‰20è¡Œæ•°æ®</span><br><span class="line">    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123;</span><br><span class="line">        return 20</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //åˆå§‹åŒ–å’Œå¤ç”¨å•å…ƒæ ¼ï¼Œæ¯å½“è¡¨æ ¼å¯¹è±¡éœ€è¦ç»˜åˆ¶ä¸€ä¸ªå•å…ƒæ ¼æ—¶ï¼Œéƒ½ä¼šè°ƒç”¨è¯¥æ–¹æ³•</span><br><span class="line">    //UITableViewçš„å¤ç”¨æœºåˆ¶</span><br><span class="line">    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123;</span><br><span class="line">        </span><br><span class="line">        let identifier = &quot;reusedCell&quot;  //ä½œä¸ºå•å…ƒæ ¼çš„ç±»å‹</span><br><span class="line">        var cell: CustomizeUITableViewCell? = tableView.dequeueReusableCell(withIdentifier: identifier) as? CustomizeUITableViewCell  //ä»å•å…ƒæ ¼å¯¹è±¡æ± ä¸­è·å–äº†æŒ‡å®šç±»å‹çš„å¹¶ä¸”å¯ä»¥é‡å¤ä½¿ç”¨çš„è‡ªå®šä¹‰å•å…ƒæ ¼</span><br><span class="line">        </span><br><span class="line">        if cell == nil &#123;</span><br><span class="line">            //ä»å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å•å…ƒæ ¼UITableViewCellå¯¹è±¡</span><br><span class="line">            cell = CustomizeUITableViewCell(style: UITableViewCell.CellStyle.default, reuseIdentifier: identifier) //ä½¿ç”¨é¢„å®šä¹‰çš„å•å…ƒæ ¼åªéœ€ä¸ºæ ‡ç­¾å’Œå›¾æ ‡æä¾›å¯¹åº”çš„æ–‡å­—å†…å®¹å’Œå›¾åƒå†…å®¹å³å¯ï¼Œå¯ä»¥ä½¿ç”¨textLabelå’ŒdetailTextLabelå±æ€§æ¥è®¾ç½®å•å…ƒæ ¼çš„æ–‡å­—å†…å®¹ï¼Œä½¿ç”¨imageViewå±æ€§æ¥è®¾ç½®å•å…ƒæ ¼çš„å›¾æ ‡</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        cell?.title?.text = &quot;å®¢æˆ·å§“å&quot;</span><br><span class="line">        </span><br><span class="line">        return cell!</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view.</span><br><span class="line">        </span><br><span class="line">        let screenRect = UIScreen.main.bounds  //è·å¾—å½“å‰è®¾å¤‡çš„å±å¹•å°ºå¯¸</span><br><span class="line">        </span><br><span class="line">        let tableRect = CGRect(x: 0, y: 20, width: screenRect.size.width, height: screenRect.size.height-20)</span><br><span class="line">        let tableView = UITableView(frame: tableRect)</span><br><span class="line">        </span><br><span class="line">        tableView.dataSource = self  //è®¾ç½®UITableViewå¯¹è±¡çš„æ•°æ®æºä¸ºå½“å‰çš„è§†å›¾æ§åˆ¶å™¨å¯¹è±¡ï¼Œå³ç”±å½“å‰çš„è§†å›¾æ§åˆ¶å¯¹è±¡å®ç°æ•°æ®æºåè®®ä¸­å®šä¹‰çš„å„ç§ä»£ç†æ–¹æ³•</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(tableView)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="è‡ªå®šä¹‰å•å…ƒæ ¼çš„é«˜åº¦"><a href="#è‡ªå®šä¹‰å•å…ƒæ ¼çš„é«˜åº¦" class="headerlink" title="è‡ªå®šä¹‰å•å…ƒæ ¼çš„é«˜åº¦"></a>è‡ªå®šä¹‰å•å…ƒæ ¼çš„é«˜åº¦</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">//æ·»åŠ åè®®ï¼Œä¸»è¦ç”¨æ¥ç»™UITableViewè¡¨æ ¼æä¾›æ•°æ®æ¥æºï¼Œå¹¶ç”¨æ¥å¤„ç†æ•°æ®æºçš„å˜åŒ–</span><br><span class="line">//UITableViewDelegateåè®®çš„ä¸»è¦ç”¨é€”æ˜¯æä¾›ä¸€äº›å¯é€‰çš„æ–¹æ³•ï¼Œç”¨æ¥æ§åˆ¶è¡¨æ ¼çš„é€‰æ‹©ã€æŒ‡å®šç« èŠ‚çš„å¤´å’Œå°¾çš„æ˜¾ç¤ºã€å•å…ƒæ ¼å†…å®¹çš„å¤åˆ¶å’Œç²˜è´´ï¼Œä»¥åŠååŠ©å®Œæˆå•å…ƒæ ¼çš„æ’åºç­‰åŠŸèƒ½</span><br><span class="line">class ViewController: UIViewController, UITableViewDataSource, UITableViewDelegate &#123;</span><br><span class="line">    </span><br><span class="line">    //è®¾ç½®è¡¨æ ¼è§†å›¾ä¸­æŒ‡å®šç´¢å¼•ä½ç½®çš„å•å…ƒæ ¼çš„é«˜åº¦</span><br><span class="line">    func tableView(_ tableView: UITableView, heightForRowAt indexPath: IndexPath) -&gt; CGFloat &#123;</span><br><span class="line">        </span><br><span class="line">        //é¦–å…ˆé€šè¿‡indexPath.rowè¯­å¥è·å¾—éœ€è¦è®¾ç½®é«˜åº¦çš„å•å…ƒæ ¼çš„æ‰€åœ¨è¡Œæ•°ï¼Œç„¶åè®¾ç½®å¶æ•°è¡Œçš„é«˜åº¦ä¸º104ï¼Œå¥‡æ•°è¡Œçš„é«˜åº¦ä¸º40</span><br><span class="line">        if (indexPath as NSIndexPath).row % 2 == 0 &#123;</span><br><span class="line">            return 104</span><br><span class="line">        &#125;</span><br><span class="line">        return 40</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //è®¾ç½®è¡¨æ ¼çš„è¡Œæ•°ä¸º20</span><br><span class="line">    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123;</span><br><span class="line">        return 20</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123;</span><br><span class="line">        </span><br><span class="line">        let identifier = &quot;reusedCell&quot;</span><br><span class="line">        var cell = tableView.dequeueReusableCell(withIdentifier: identifier)</span><br><span class="line">        </span><br><span class="line">        if cell == nil &#123;</span><br><span class="line">            cell = UITableViewCell(style: UITableViewCell.CellStyle.default, reuseIdentifier: identifier)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        if (indexPath as NSIndexPath).row % 2 == 0 &#123;</span><br><span class="line">            cell?.imageView?.image = UIImage(named: &quot;picture.png&quot;)</span><br><span class="line">            cell?.textLabel?.text = &quot;&quot;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            cell?.imageView?.image = nil</span><br><span class="line">            cell?.textLabel?.text = &quot;æ¯æœ‰ä¼šæ„ï¼Œä¾¿æ¬£ç„¶å¿˜é£Ÿï¼&quot;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return cell!</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view.</span><br><span class="line">        </span><br><span class="line">        let screenRect = UIScreen.main.bounds  //è·å¾—å½“å‰è®¾å¤‡çš„å±å¹•å°ºå¯¸</span><br><span class="line">        </span><br><span class="line">        let tableRect = CGRect(x: 0, y: 20, width: screenRect.size.width, height: screenRect.size.height-20)</span><br><span class="line">        let tableView = UITableView(frame: tableRect)</span><br><span class="line">        </span><br><span class="line">        tableView.dataSource = self  //è®¾ç½®UITableViewå¯¹è±¡çš„æ•°æ®æºä¸ºå½“å‰çš„è§†å›¾æ§åˆ¶å™¨å¯¹è±¡ï¼Œå³ç”±å½“å‰çš„è§†å›¾æ§åˆ¶å¯¹è±¡å®ç°æ•°æ®æºåè®®ä¸­å®šä¹‰çš„å„ç§ä»£ç†æ–¹æ³•</span><br><span class="line">        tableView.delegate = self</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(tableView)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç»™è¡¨æ ¼æ·»åŠ ç« èŠ‚å’Œç´¢å¼•"><a href="#ç»™è¡¨æ ¼æ·»åŠ ç« èŠ‚å’Œç´¢å¼•" class="headerlink" title="ç»™è¡¨æ ¼æ·»åŠ ç« èŠ‚å’Œç´¢å¼•"></a>ç»™è¡¨æ ¼æ·»åŠ ç« èŠ‚å’Œç´¢å¼•</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController, UITableViewDataSource &#123;</span><br><span class="line">    </span><br><span class="line">    //å‰é¢åˆ¶ä½œçš„è¡¨æ ¼çš„æ•°æ®æºéƒ½æ˜¯æ•°ç»„å¸¸é‡ï¼Œç°åœ¨æ¼”ç¤ºå°†ä¸€ä¸ªå­—å…¸å¯¹è±¡ä½œä¸ºè¡¨æ ¼çš„æ•°æ®æº</span><br><span class="line">    //å­—å…¸å¯¹è±¡çš„é”®ä½œä¸ºUITableViewçš„Sectionï¼Œå­—å…¸å¯¹è±¡çš„å€¼(æ•°ç»„)ä½œä¸ºSectionä¸­å•å…ƒæ ¼çš„å†…å®¹</span><br><span class="line">    //å­—å…¸å¯¹è±¡çš„é”®A~Zå°†ä½œä¸ºç« èŠ‚çš„æ ‡é¢˜ï¼Œé”®å¯¹åº”çš„å€¼å°†ä½œä¸ºæ‰€åœ¨ç« èŠ‚çš„å•å…ƒæ ¼çš„å†…å®¹</span><br><span class="line">    var countries: Dictionary&lt;String, [String]&gt; = [</span><br><span class="line">        &quot;A&quot;: [&quot;Afghanistan&quot;, &quot;Albania&quot;, &quot;Algeria&quot;, &quot;Angola&quot;, &quot;Australia&quot;, &quot;Austria&quot;, &quot;Azerbaijan&quot;],</span><br><span class="line">        &quot;B&quot;: [&quot;Bangladesh&quot;, &quot;Belgium&quot;, &quot;Bhutan&quot;, &quot;Bolivia&quot;, &quot;Brazil&quot;, &quot;Bahrain&quot;, &quot;Bulgaria&quot;],</span><br><span class="line">        &quot;C&quot;: [&quot;Canada&quot;, &quot;Congo&quot;, &quot;Chile&quot;, &quot;China&quot;, &quot;Colombia&quot;, &quot;Cuba&quot;],</span><br><span class="line">        &quot;D&quot;: [&quot;Denmark&quot;, &quot;Djibouti&quot;, &quot;Dominica&quot;],</span><br><span class="line">        &quot;E&quot;: [&quot;Egypt&quot;, &quot;Estonia&quot;, &quot;Ethiopia&quot;],</span><br><span class="line">        &quot;F&quot;: [&quot;Fiji&quot;, &quot;Finland&quot;, &quot;France&quot;],</span><br><span class="line">        &quot;G&quot;: [&quot;Gambia&quot;, &quot;Germany&quot;, &quot;Greece&quot;],</span><br><span class="line">        &quot;H&quot;: [&quot;Haiti&quot;, &quot;Honduras&quot;, &quot;Hungary&quot;],</span><br><span class="line">        &quot;I&quot;: [&quot;India&quot;, &quot;Indonesia&quot;, &quot;Iran&quot;, &quot;Ireland&quot;, &quot;Iraq&quot;, &quot;Italy&quot;],</span><br><span class="line">        &quot;J&quot;: [&quot;Jordan&quot;, &quot;Japan&quot;],</span><br><span class="line">        &quot;K&quot;: [&quot;Kazakhstan&quot;, &quot;Korea&quot;, &quot;Kuwait&quot;],</span><br><span class="line">        &quot;L&quot;: [&quot;Laos&quot;, &quot;Libya&quot;, &quot;Lebanon&quot;],</span><br><span class="line">        &quot;M&quot;: [&quot;Madagascar&quot;, &quot;Morocco&quot;, &quot;Malaysia&quot;, &quot;Mexico&quot;, &quot;Mali&quot;, &quot;Mozambique&quot;],</span><br><span class="line">        &quot;N&quot;: [&quot;Nepal&quot;, &quot;Netherlands&quot;, &quot;Nigeria&quot;, &quot;New Zealand&quot;],</span><br><span class="line">        &quot;O&quot;: [&quot;Oman&quot;],</span><br><span class="line">        &quot;P&quot;: [&quot;Pakistan&quot;, &quot;Panama&quot;, &quot;Philippines&quot;, &quot;Portugal&quot;],</span><br><span class="line">        &quot;Q&quot;: [&quot;Qatar&quot;],</span><br><span class="line">        &quot;R&quot;: [&quot;Romania&quot;, &quot;South Africa&quot;, &quot;Russia&quot;],</span><br><span class="line">        &quot;S&quot;: [&quot;Serbia &amp; Montenegro&quot;, &quot;Senegal&quot;, &quot;Singapore&quot;, &quot;Somalia&quot;, &quot;Switzerland&quot;],</span><br><span class="line">        &quot;T&quot;: [&quot;Thailand&quot;, &quot;Turkmenistan&quot;, &quot;Tunisia&quot;, &quot;Turkey&quot;],</span><br><span class="line">        &quot;U&quot;: [&quot;United Arab Emirates&quot;, &quot;United States of America&quot;, &quot;Uzbekistan&quot;],</span><br><span class="line">        &quot;V&quot;: [&quot;Vanuatu&quot;, &quot;Venezuela&quot;, &quot;Vietnam&quot;],</span><br><span class="line">        &quot;Y&quot;: [&quot;Yemen&quot;],</span><br><span class="line">        &quot;Z&quot;: [&quot;Zambia&quot;, &quot;Zimbabwe&quot;]</span><br><span class="line">    ]</span><br><span class="line">    </span><br><span class="line">    var keys: [String] = []  //å®ƒå°†ç”¨æ¥å­˜å‚¨æŒ‰å‡åºæ’åˆ—åçš„é”®ååºåˆ—ï¼Œè¿™ä¸ªæ•°ç»„çš„é•¿åº¦å°†ä½œä¸ºè¡¨æ ¼ä¸­ç« èŠ‚çš„æ•°ç›®</span><br><span class="line"></span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view, typically from a nib.</span><br><span class="line">        </span><br><span class="line">        //å¸¦æœ‰ç´¢å¼•çš„è¡¨æ ¼å’Œæ™®é€šçš„è¡¨æ ¼çš„å¤–è§‚åŸºæœ¬ç›¸åŒï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯åœ¨è¡¨æ ¼çš„å³ä¾§æ˜¾ç¤ºäº†ä¸€ä¸ªç´¢å¼•åºåˆ—ï¼Œé€šè¿‡ç‚¹å‡»ç´¢å¼•åºåˆ—å¯ä»¥åœ¨è¡¨æ ¼ä¸­å¿«é€Ÿå®šä½åˆ°æŒ‡å®šçš„ä½ç½®ï¼Œå°¤å…¶æ˜¯å½“è¡¨æ ¼æ‹¥æœ‰å¤§é‡æ•°æ®çš„æ—¶å€™</span><br><span class="line">        </span><br><span class="line">        keys = Array(countries.keys).sorted()  //è·å¾—countrieså­—å…¸å¯¹è±¡æ‰€æœ‰çš„é”®åï¼Œå¹¶è½¬åŒ–ä¸ºä¸€ä¸ªæ•°ç»„å¯¹è±¡ï¼Œç”±äºå­—å…¸å¯¹è±¡çš„é”®åæ˜¯æ— åºæ’åˆ—çš„ï¼Œå› æ­¤æ¥ç€åˆè°ƒç”¨äº†æ•°ç»„å¯¹è±¡çš„sorted()æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œå‡åºæ’åˆ—</span><br><span class="line"></span><br><span class="line">        let screenRect = UIScreen.main.bounds</span><br><span class="line">        let tableRect = CGRect(x: 0, y: 20, width: screenRect.size.width, height: screenRect.size.height - 20)</span><br><span class="line">        let tableView = UITableView(frame: tableRect)</span><br><span class="line">        </span><br><span class="line">        tableView.dataSource = self</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(tableView)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //è¿”å›é”®åæ•°ç»„çš„é•¿åº¦ä½œä¸ºè¡¨æ ¼ä¸­ç« èŠ‚çš„æ•°ç›®</span><br><span class="line">    func numberOfSections(in tableView: UITableView) -&gt; Int &#123;</span><br><span class="line">        return keys.count</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //åœ¨è¯¥ä»£ç†æ–¹æ³•ä¸­ï¼Œé¦–å…ˆæ ¹æ®sectionå‚æ•°è·å¾—keysæ•°ç»„ä¸­çš„é”®åï¼Œç„¶åæ ¹æ®é”®åè·å¾—å­—å…¸å¯¹è±¡ä¸­é”®åå¯¹åº”çš„é”®å€¼ï¼Œå³å›½å®¶åç§°çš„æ•°ç»„ï¼Œæœ€åè¿”å›æ•°ç»„çš„é•¿åº¦ä½œä¸ºæŒ‡å®šç« èŠ‚çš„å•å…ƒæ ¼æ•°é‡</span><br><span class="line">    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int&#123;</span><br><span class="line">        let subCountries = countries[keys[section]]</span><br><span class="line">        return (subCountries?.count)!</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //è¯¥ä»£ç†æ–¹æ³•ç”¨æ¥è®¾ç½®æŒ‡å®šç« èŠ‚çš„æ ‡é¢˜æ–‡å­—</span><br><span class="line">    func tableView(_ tableView: UITableView, titleForHeaderInSection section: Int) -&gt; String? &#123;</span><br><span class="line">        return keys[section]</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //è¯¥ä»£ç†æ–¹æ³•ç”¨æ¥è®¾ç½®è¡¨æ ¼å³ä¾§ç´¢å¼•åºåˆ—çš„å†…å®¹</span><br><span class="line">    func sectionIndexTitles(for tableView: UITableView) -&gt; [String]? &#123;</span><br><span class="line">        return keys</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123;</span><br><span class="line">        </span><br><span class="line">        let identifier = &quot;reusedCell&quot;</span><br><span class="line">        var cell = tableView.dequeueReusableCell(withIdentifier: identifier)</span><br><span class="line">        </span><br><span class="line">        if cell == nil &#123;</span><br><span class="line">            cell = UITableViewCell(style: UITableViewCell.CellStyle.default, reuseIdentifier: identifier)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        //é¦–å…ˆæ ¹æ®IndexPathå‚æ•°çš„sectionå€¼è·å¾—å½“å‰å•å…ƒæ ¼æ‰€åœ¨çš„ç« èŠ‚åºå·ï¼Œç„¶åæ ¹æ®ç« èŠ‚åºå·è·å¾—é”®åæ•°ç»„keysä¸­æŒ‡å®šä½ç½®çš„é”®åï¼Œ</span><br><span class="line">        //å†æ ¹æ®é”®åè·å¾—é”®ååœ¨å­—å…¸å¯¹è±¡countriesä¸­çš„é”®å€¼ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç”±å›½å®¶åç§°ç»„æˆçš„æ•°ç»„</span><br><span class="line">        let subCountries = countries[keys[(indexPath as NSIndexPath).section]]</span><br><span class="line">        //æ¥ç€æ ¹æ®IndexPathå‚æ•°çš„rowå€¼è·å¾—å½“å‰å•å…ƒæ ¼æ‰€åœ¨ç« èŠ‚ä¸­çš„è¡Œå·ï¼Œå†æ ¹æ®è¡Œå·è·å¾—å¯¹åº”çš„å›½å®¶åç§°ï¼Œæœ€åè®¾ç½®å•å…ƒæ ¼UILabelå±æ€§çš„å€¼ä¸ºå¯¹åº”çš„å›½å®¶åç§°</span><br><span class="line">        cell?.textLabel?.text = subCountries![(indexPath as NSIndexPath).row]</span><br><span class="line">        </span><br><span class="line">        return cell!</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å•å…ƒæ ¼çš„é€‰æ‹©ä¸å–æ¶ˆé€‰æ‹©"><a href="#å•å…ƒæ ¼çš„é€‰æ‹©ä¸å–æ¶ˆé€‰æ‹©" class="headerlink" title="å•å…ƒæ ¼çš„é€‰æ‹©ä¸å–æ¶ˆé€‰æ‹©"></a>å•å…ƒæ ¼çš„é€‰æ‹©ä¸å–æ¶ˆé€‰æ‹©</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">//å‰è€…ç”¨äºè®¾ç½®è¡¨æ ¼çš„è¡Œæ•°å’Œåˆå§‹åŒ–åŠå¤ç”¨UITableViewCellå¯¹è±¡ï¼Œåè€…ç”¨äºå…·ä½“å¤„ç†å•å…ƒæ ¼çš„é€‰æ‹©äº‹ä»¶</span><br><span class="line">class ViewController: UIViewController, UITableViewDataSource, UITableViewDelegate &#123;</span><br><span class="line">    </span><br><span class="line">    let diablo3Level = [&quot;æ™®é€šæ¨¡å¼&quot;, &quot;å›°éš¾æ¨¡å¼&quot;, &quot;é«˜æ‰‹æ¨¡å¼&quot;, &quot;å¤§å¸ˆæ¨¡å¼&quot;, &quot;ç—›è‹¦æ¨¡å¼&quot;]</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view, typically from a nib.</span><br><span class="line">        </span><br><span class="line">        let screenRect = UIScreen.main.bounds</span><br><span class="line">        let tableRect = CGRect(x: 0, y: 20, width: screenRect.size.width, height: screenRect.size.height - 20)</span><br><span class="line">        let tableView = UITableView(frame: tableRect)</span><br><span class="line">        </span><br><span class="line">        tableView.dataSource = self</span><br><span class="line">        tableView.delegate = self</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(tableView)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //è®¾ç½®è¡¨æ ¼çš„è¡Œæ•°ä¸ºæ¸¸æˆéš¾åº¦æ•°ç»„çš„é•¿åº¦</span><br><span class="line">    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int&#123;</span><br><span class="line">        return diablo3Level.count</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath)</span><br><span class="line">        -&gt; UITableViewCell &#123;</span><br><span class="line">            </span><br><span class="line">            let identifier = &quot;reusedCell&quot;</span><br><span class="line">            var cell = tableView.dequeueReusableCell(withIdentifier: identifier)</span><br><span class="line">            </span><br><span class="line">            if(cell == nil)</span><br><span class="line">            &#123;</span><br><span class="line">                cell = UITableViewCell(style: UITableViewCell.CellStyle.default,</span><br><span class="line">                    reuseIdentifier: identifier)</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            cell?.textLabel?.text = diablo3Level[(indexPath as NSIndexPath).row]</span><br><span class="line">            </span><br><span class="line">            return cell!</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) &#123;</span><br><span class="line">        </span><br><span class="line">        let cell = tableView.cellForRow(at: indexPath)</span><br><span class="line">        </span><br><span class="line">        //é¦–å…ˆé€šè¿‡è¡¨æ ¼å¯¹è±¡çš„cellForRowAt indexPath()æ–¹æ³•è·å¾—åœ¨è¡¨æ ¼å¯¹è±¡ä¸­è¢«é€‰ä¸­çš„å•å…ƒæ ¼ï¼Œæ¥ç€åˆ¤æ–­è¢«é€‰ä¸­çš„å•å…ƒæ ¼å½“å‰çš„é™„ä»¶ç±»å‹ï¼Œè‹¥ä¸ºç©ºï¼Œåˆ™è®¾ç½®å•å…ƒæ ¼çš„é™„ä»¶ç±»å‹ä¸ºcheckmark</span><br><span class="line">        if cell?.accessoryType == UITableViewCell.AccessoryType.none &#123;</span><br><span class="line">            </span><br><span class="line">            //UITableViewCell.AccessoryTypeå…±æœ‰4ç§ç±»å‹ï¼š.noneï¼Œ.detailButtonï¼Œ.detailDisclosureButtonï¼Œ.disclosureIndicatorï¼Œ.checkmark</span><br><span class="line">            cell?.accessoryType = UITableViewCell.AccessoryType.checkmark</span><br><span class="line">            print(&quot;æ‚¨é€‰æ‹©äº†ï¼š\(String(describing: cell?.textLabel?.text))&quot;)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            </span><br><span class="line">            cell?.accessoryType = UITableViewCell.AccessoryType.none</span><br><span class="line">            print(&quot;æ‚¨å–æ¶ˆé€‰æ‹©äº†ï¼š\(String(describing: cell?.textLabel?.text))&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å•å…ƒæ ¼çš„æ’å…¥å’Œåˆ é™¤"><a href="#å•å…ƒæ ¼çš„æ’å…¥å’Œåˆ é™¤" class="headerlink" title="å•å…ƒæ ¼çš„æ’å…¥å’Œåˆ é™¤"></a>å•å…ƒæ ¼çš„æ’å…¥å’Œåˆ é™¤</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">//å‰è€…ç”¨äºè®¾ç½®è¡¨æ ¼çš„è¡Œæ•°å’Œåˆå§‹åŒ–åŠå¤ç”¨UITableViewCellå¯¹è±¡ï¼Œåè€…ç”¨äºå…·ä½“å¤„ç†å•å…ƒæ ¼çš„é€‰æ‹©äº‹ä»¶</span><br><span class="line">class ViewController: UIViewController, UITableViewDataSource, UITableViewDelegate &#123;</span><br><span class="line">    </span><br><span class="line">    var diablo3Level = [&quot;æ™®é€šæ¨¡å¼&quot;, &quot;å›°éš¾æ¨¡å¼&quot;, &quot;é«˜æ‰‹æ¨¡å¼&quot;, &quot;å¤§å¸ˆæ¨¡å¼&quot;, &quot;åœ°ç‹±æ¨¡å¼&quot;]</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view, typically from a nib.</span><br><span class="line">        </span><br><span class="line">        //ä»¥æ’å…¥å•å…ƒæ ¼çš„åŠŸèƒ½ä¸ºä¾‹ï¼Œé¦–å…ˆé€šè¿‡å®ç°tableView(_ :editingStyleForRowAt:)æ–¹æ³•è®¾ç½®å•å…ƒæ ¼çš„ç¼–è¾‘æ¨¡å¼ä¸ºæ’å…¥æ¨¡å¼ï¼Œç„¶åå½“ç”¨æˆ·ç‚¹å‡»ç¼–è¾‘æŒ‰é’®æˆ–è€…æ‰§è¡ŒsetEditing(_ :animated:)å‘½ä»¤åï¼Œå°±ä¼šåœ¨å•å…ƒæ ¼çš„å·¦ä¾§æ˜¾ç¤ºâ€˜+â€™å›¾æ ‡ï¼›å½“ç”¨æˆ·ç‚¹å‡»&#x27;+&#x27;å›¾æ ‡åï¼Œä»£ç†å¯¹è±¡å°±ä¼šè°ƒç”¨tableView(_ :editingStyle:, ForRowAt:)æ–¹æ³•ï¼Œæœ€ååœ¨è¯¥æ–¹æ³•ä¸­ï¼Œè°ƒç”¨è¡¨æ ¼å¯¹è±¡çš„insertRowsAtIndexPath: withRowAnimation:æ–¹æ³•å®ç°å•å…ƒæ ¼çš„æ’å…¥åŠŸèƒ½</span><br><span class="line">        </span><br><span class="line">        let screenRect = UIScreen.main.bounds</span><br><span class="line">        let tableRect = CGRect(x: 0, y: 20, width: screenRect.size.width, height: screenRect.size.height - 20)</span><br><span class="line">        let tableView = UITableView(frame: tableRect)</span><br><span class="line">        </span><br><span class="line">        tableView.dataSource = self</span><br><span class="line">        tableView.delegate = self</span><br><span class="line">        </span><br><span class="line">        tableView.setEditing(true, animated: true)</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(tableView)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //è®¾ç½®è¡¨æ ¼çš„è¡Œæ•°ä¸ºæ¸¸æˆéš¾åº¦æ•°ç»„çš„é•¿åº¦</span><br><span class="line">    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int&#123;</span><br><span class="line">        return diablo3Level.count</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath)</span><br><span class="line">        -&gt; UITableViewCell &#123;</span><br><span class="line">            </span><br><span class="line">            let identifier = &quot;reusedCell&quot;</span><br><span class="line">            var cell = tableView.dequeueReusableCell(withIdentifier: identifier)</span><br><span class="line">            </span><br><span class="line">            if cell == nil &#123;</span><br><span class="line">                </span><br><span class="line">                cell = UITableViewCell(style: UITableViewCell.CellStyle.default,</span><br><span class="line">                    reuseIdentifier: identifier)</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            cell?.textLabel?.text = diablo3Level[(indexPath as NSIndexPath).row]</span><br><span class="line">            </span><br><span class="line">            return cell!</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func tableView(_ tableView: UITableView, editingStyleForRowAt indexPath: IndexPath) -&gt; UITableViewCell.EditingStyle &#123;</span><br><span class="line">        </span><br><span class="line">        //return UITableViewCell.EditingStyle.insert  //.noneï¼Œ.delete</span><br><span class="line">        return UITableViewCell.EditingStyle.delete</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func tableView(_ tableView: UITableView, commit editingStyle: UITableViewCell.EditingStyle, forRowAt indexPath: IndexPath) &#123;</span><br><span class="line">        </span><br><span class="line">        //if editingStyle == UITableViewCell.EditingStyle.insert &#123;</span><br><span class="line">            </span><br><span class="line">        //    diablo3Level.insert(&quot;ç—›è‹¦æ¨¡å¼&quot;, at: indexPath.row)  //åœ¨è¡¨æ ¼å¯¹è±¡çš„æ•°æ®æºæ•°ç»„ä¸­æ’å…¥ä¸€æ¡æ–°çš„æ•°æ®ï¼Œä»¥ä¿æŒè¡¨æ ¼è§†å›¾ä¸æ•°æ®æºçš„æ•°æ®ä¸€è‡´æ€§</span><br><span class="line">        //    tableView.insertRows(at: [indexPath], with: UITableView.RowAnimation.right)  //åœ¨æŒ‡å®šç´¢å¼•ä½ç½®çš„å•å…ƒæ ¼å¤„æ’å…¥æ–°çš„å•å…ƒæ ¼</span><br><span class="line">        //&#125;</span><br><span class="line">        </span><br><span class="line">        if editingStyle == UITableViewCell.EditingStyle.delete &#123;</span><br><span class="line">            diablo3Level.remove(at: indexPath.row)</span><br><span class="line">            tableView.deleteRows(at: [indexPath], with: UITableView.RowAnimation.right)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç§»åŠ¨å•å…ƒæ ¼çš„ä½ç½®"><a href="#ç§»åŠ¨å•å…ƒæ ¼çš„ä½ç½®" class="headerlink" title="ç§»åŠ¨å•å…ƒæ ¼çš„ä½ç½®"></a>ç§»åŠ¨å•å…ƒæ ¼çš„ä½ç½®</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController, UITableViewDataSource, UITableViewDelegate &#123;</span><br><span class="line">    </span><br><span class="line">    var customers = [</span><br><span class="line">        </span><br><span class="line">        &quot;[æ™®é€šå®¢æˆ·] å†®ç‚³æ—&quot;,</span><br><span class="line">        &quot;[æ™®é€šå®¢æˆ·] æ‰¶ä¼½éœ–&quot;,</span><br><span class="line">        &quot;[æ™®é€šå®¢æˆ·] å†ˆçš‘å†°&quot;,</span><br><span class="line">        &quot;[é‡‘ç‰Œå®¢æˆ·] ç¬¦åšå¯Œ&quot;,</span><br><span class="line">        &quot;[æ™®é€šå®¢æˆ·] èŒƒå§œè‡£å&quot;</span><br><span class="line">    ]</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view, typically from a nib.</span><br><span class="line">        </span><br><span class="line">        let screenRect = UIScreen.main.bounds</span><br><span class="line">        let tableRect = CGRect(x: 0, y: 20, width: screenRect.size.width, height: screenRect.size.height - 20)</span><br><span class="line">        let tableView = UITableView(frame: tableRect)</span><br><span class="line">        </span><br><span class="line">        tableView.dataSource = self</span><br><span class="line">        tableView.delegate = self</span><br><span class="line">        </span><br><span class="line">        tableView.setEditing(true, animated: true)</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(tableView)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int&#123;</span><br><span class="line">        return customers.count</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath)</span><br><span class="line">        -&gt; UITableViewCell &#123;</span><br><span class="line">            </span><br><span class="line">            let identifier = &quot;reusedCell&quot;</span><br><span class="line">            var cell = tableView.dequeueReusableCell(withIdentifier: identifier)</span><br><span class="line">            </span><br><span class="line">            if(cell == nil)&#123;</span><br><span class="line">                cell = UITableViewCell(style: UITableViewCell.CellStyle.default,</span><br><span class="line">                    reuseIdentifier: identifier)</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            cell?.textLabel?.text = customers[(indexPath as NSIndexPath).row]</span><br><span class="line">            return cell!</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //éšè—å•å…ƒæ ¼å·¦ä¾§çš„ç¼–è¾‘æŒ‰é’®</span><br><span class="line">    func tableView(_ tableView: UITableView, editingStyleForRowAt indexPath: IndexPath) -&gt; UITableViewCell.EditingStyle &#123;</span><br><span class="line">        return UITableViewCell.EditingStyle.none</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //ç”¨æ¥è®¾ç½®UITableViewè§†å›¾ä¸­çš„æ‰€æœ‰å•å…ƒæ ¼éƒ½æ˜¯å¯ä»¥è¢«æ‹–åŠ¨çš„</span><br><span class="line">    func tableView(_ tableView: UITableView, canMoveRowAt indexPath: IndexPath) -&gt; Bool &#123;</span><br><span class="line">        return true</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //å½“ç”¨æˆ·æ¾å¼€æ‰‹æŒ‡ï¼Œé‡Šæ”¾è¢«æ‹–åŠ¨çš„å•å…ƒæ ¼æ—¶ï¼Œè°ƒç”¨æ­¤æ–¹æ³•</span><br><span class="line">    func tableView(_ tableView: UITableView, moveRowAt sourceIndexPath: IndexPath, to destinationIndexPath: IndexPath) &#123;</span><br><span class="line">        </span><br><span class="line">        //é¦–å…ˆè·å¾—å•å…ƒæ ¼çš„åŸå§‹ç´¢å¼•ä½ç½®å’Œç›®æ ‡ç´¢å¼•ä½ç½®ï¼Œç„¶åè·å¾—åœ¨å®¢æˆ·æ•°ç»„ä¸­è¢«æ‹–åŠ¨çš„å®¢æˆ·å§“å</span><br><span class="line">        //æ¥ç€è°ƒç”¨æ•°ç»„çš„removeAtIndex:æ–¹æ³•åˆ é™¤æ•°ç»„åŸå§‹ä½ç½®ä¸Šçš„å…ƒç´ </span><br><span class="line">        //æœ€åè°ƒç”¨æ•°ç»„çš„insert(: atIndex)æ–¹æ³•å°†è¢«æ‹–åŠ¨çš„å®¢æˆ·å§“åæ’å…¥æ•°ç»„ä¸­çš„ç›®æ ‡ä½ç½®ï¼Œä»¥ä¿æŒè§†å›¾å±‚ä¸æ•°æ®æºå±‚çš„æ•°æ®åŒæ­¥</span><br><span class="line">        let fromRow = (sourceIndexPath as NSIndexPath).row</span><br><span class="line">        let toRow = (destinationIndexPath as NSIndexPath).row</span><br><span class="line">        let customer = customers[fromRow]</span><br><span class="line">        </span><br><span class="line">        customers.remove(at: fromRow)</span><br><span class="line">        customers.insert(customer, at: toRow)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="è¡¨æ ¼ä¹‹é—´çš„åµŒå¥—"><a href="#è¡¨æ ¼ä¹‹é—´çš„åµŒå¥—" class="headerlink" title="è¡¨æ ¼ä¹‹é—´çš„åµŒå¥—"></a>è¡¨æ ¼ä¹‹é—´çš„åµŒå¥—</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//è¯¥è¡¨æ ¼çš„å¶æ•°è¡Œ(è¡Œæ•°ä»0å¼€å§‹)ä¸ºæ™®é€šçš„UITableViewCellå•å…ƒæ ¼ï¼Œç”¨æ¥æ˜¾ç¤ºæ–°é—»çš„æ ‡é¢˜æ–‡å­—</span><br><span class="line">//è¡¨æ ¼çš„å¥‡æ•°è¡Œä¸ºè‡ªå®šä¹‰çš„å•å…ƒæ ¼ï¼Œè¯¥å•å…ƒæ ¼æ‹¥æœ‰å¦ä¸€ä¸ªUITableViewå¯¹è±¡ï¼Œç”¨æ¥æ˜¾ç¤ºç½‘å‹å¯¹æ–°é—»çš„è¯„è®ºä¿¡æ¯</span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class CustomizeUITableViewCell: UITableViewCell, UITableViewDataSource, UITableViewDelegate &#123;</span><br><span class="line">    </span><br><span class="line">    var tableView: UITableView!</span><br><span class="line">    var comments: [String] = []  //æ·»åŠ äº†ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œä½œä¸ºtableViewå…ƒç´ çš„æ•°æ®æºï¼Œè¯¥æ•°ç»„çš„åˆå§‹å€¼ä¸ºç©º</span><br><span class="line">    </span><br><span class="line">    override init(style: UITableViewCell.CellStyle, reuseIdentifier: String?) &#123;</span><br><span class="line">        </span><br><span class="line">        super.init(style: style, reuseIdentifier: reuseIdentifier)</span><br><span class="line">        </span><br><span class="line">        tableView = UITableView(frame: CGRect(x: 20, y: 0, width: 280, height: 90))</span><br><span class="line">        </span><br><span class="line">        tableView.dataSource = self</span><br><span class="line">        tableView.delegate = self</span><br><span class="line">        </span><br><span class="line">        tableView.isScrollEnabled = false  //ç¦æ­¢tableViewçš„æ»šåŠ¨</span><br><span class="line">        </span><br><span class="line">        self.addSubview(tableView)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int&#123;</span><br><span class="line">        return comments.count</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath)</span><br><span class="line">        -&gt; UITableViewCell &#123;</span><br><span class="line">        </span><br><span class="line">            let identifier = &quot;reusedCell&quot;</span><br><span class="line">            var cell = tableView.dequeueReusableCell(withIdentifier: identifier)</span><br><span class="line">            </span><br><span class="line">            if cell == nil &#123;</span><br><span class="line">                </span><br><span class="line">                cell = UITableViewCell(style: UITableViewCell.CellStyle.default,</span><br><span class="line">                    reuseIdentifier: identifier)</span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">            cell?.textLabel?.text = comments[(indexPath as NSIndexPath).row]</span><br><span class="line">            cell?.textLabel?.font = UIFont.systemFont(ofSize: 12)</span><br><span class="line">            cell?.textLabel?.textColor = UIColor.gray</span><br><span class="line">            cell?.textLabel?.numberOfLines = 0  //è¡¨ç¤ºä¸é™åˆ¶æ ‡ç­¾å¯¹è±¡ä¸­æ–‡å­—çš„è¡Œæ•°</span><br><span class="line">        </span><br><span class="line">            return cell!</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //ç”¨æ¥è®¾ç½®æŒ‡å®šç´¢å¼•ä½ç½®çš„å•å…ƒæ ¼çš„é«˜åº¦ï¼Œè¿™é‡Œæ ¹æ®è¯¥å•å…ƒæ ¼å°†è¦æ˜¾ç¤ºçš„æ–‡å­—çš„å¤šå°‘æ¥è®¾ç½®ç›¸åº”çš„é«˜åº¦</span><br><span class="line">    func tableView(_ tableView: UITableView, heightForRowAt indexPath: IndexPath)</span><br><span class="line">        -&gt; CGFloat &#123;</span><br><span class="line">        </span><br><span class="line">        let subComments = comments[(indexPath as NSIndexPath).row]  //æ ¹æ®ç´¢å¼•ä½ç½®è·å¾—æ•°æ®æºä¸­æŒ‡å®šä½ç½®çš„è¯„è®ºä¿¡æ¯</span><br><span class="line">        </span><br><span class="line">        let size = subComments.boundingRect(with: CGSize(),</span><br><span class="line">            options: NSStringDrawingOptions.usesFontLeading, attributes: nil, context: nil);  //è·å¾—ç»˜åˆ¶è¯¥å­—ç¬¦ä¸²æ‰€éœ€çš„çŸ©å½¢åŒºåŸŸçš„å¤§å°</span><br><span class="line">        </span><br><span class="line">        let cellHeight =  size.height*size.width/170  //è®¡ç®—å‡ºæ˜¾ç¤ºæ‰€æœ‰è¯„è®ºä¿¡æ¯æ‰€éœ€è¦çš„å•å…ƒæ ¼çš„é«˜åº¦æ•°å€¼</span><br><span class="line">        </span><br><span class="line">        if cellHeight &lt; 30 &#123;</span><br><span class="line">            return 30</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return cellHeight</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //å½“è®¾ç½®è¡¨æ ¼å¯¹è±¡çš„æ•°æ®æºä¹‹åï¼Œéœ€è¦æ ¹æ®æ•°æ®æºä¸­è¯„è®ºä¿¡æ¯çš„æ–‡å­—æ•°é‡é‡æ–°è®¾ç½®è¡¨æ ¼å¯¹è±¡çš„é«˜åº¦æ•°å€¼</span><br><span class="line">    func setCommentsForTable(_ comments:[String]) &#123;</span><br><span class="line">        self.comments = comments</span><br><span class="line">        </span><br><span class="line">        var tableHeight: CGFloat = 0</span><br><span class="line">        </span><br><span class="line">        //é€šè¿‡ä¸€ä¸ªforå¾ªç¯è¯­å¥æŠŠè¡¨æ ¼ä¸­æ‰€æœ‰çš„å•å…ƒæ ¼çš„é«˜åº¦éƒ½åˆ†åˆ«è®¡ç®—ä¸€æ¬¡ï¼Œç„¶åæŠŠç»“æœç´¯åŠ èµ·æ¥ä½œä¸ºè¡¨æ ¼çš„é«˜åº¦ï¼Œæœ€åæŠŠç´¯åŠ åçš„é«˜åº¦æ•°å€¼èµ‹äºˆå½“å‰çš„tableViewå¯¹è±¡</span><br><span class="line">        for i in 0 ..&lt; comments.count</span><br><span class="line">        &#123;</span><br><span class="line">            let size = comments[i].boundingRect(with: CGSize(),</span><br><span class="line">                options: NSStringDrawingOptions.usesFontLeading, attributes: nil, context: nil);</span><br><span class="line">            tableHeight += size.height*size.width/170</span><br><span class="line">        &#125;</span><br><span class="line">        tableView.frame = CGRect(x: 20, y: 0, width: 280, height: tableHeight + 50)</span><br><span class="line">        </span><br><span class="line">        tableView.reloadData()  //è°ƒç”¨è¯¥æ–¹æ³•å¯ä»¥é‡æ–°åŠ è½½è¡¨æ ¼çš„æ•°æ®æºï¼Œå¹¶é‡æ–°ç”Ÿæˆè¡¨æ ¼å¯¹è±¡ä¸­çš„æ‰€æœ‰ç« èŠ‚å¤´éƒ¨æ ‡é¢˜ã€ç« èŠ‚å°¾éƒ¨å†…å®¹ã€ç« èŠ‚åºåˆ—ä»¥åŠå•å…ƒæ ¼çš„å†…å®¹</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func getMyHeight()-&gt;CGFloat&#123;</span><br><span class="line">        return tableView.frame.size.height</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    required init(coder aDecoder: NSCoder) &#123;</span><br><span class="line">        fatalError(&quot;init(code:)has not brrn implomented&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController, UITableViewDataSource, UITableViewDelegate &#123;</span><br><span class="line">    </span><br><span class="line">    var articles = [</span><br><span class="line">        &quot;å¾®è½¯æœ‰å“ªäº›ã€Œé»‘å†å²ã€ï¼Ÿ&quot;,</span><br><span class="line">        &quot;è‹¹æœæœ‰å“ªäº›é»‘ç§‘æŠ€ï¼Ÿ&quot;,</span><br><span class="line">        &quot;å·´å®è‰å’Œ Apple TV å¼ºå¼ºè”æ‰‹æ¨å‡ºå¤©å°ç§€ç›´æ’­&quot;</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    var comments = [</span><br><span class="line"></span><br><span class="line">      [&quot;1.Nebraskaè¿™ä¸ªæ¢—æ˜¯è¿™æ ·çš„ï¼Œå½“å¹´ç¾å›½å¾ˆå¤šå…¬å¸çš„å‘¼å«ä¸­å¿ƒè®¾åœ¨nebraskaï¼ˆåŸå› æœ‰ä¸¤è¯´ï¼Œä¸€è¯´æ˜¯æˆ˜ç•¥ç©ºå†›å¸ä»¤éƒ¨åœ¨è¿™ï¼Œæ‰€ä»¥ç”µè¯çº¿è·¯å¤šï¼Œä¸€è¯´æ˜¯ä¸­è¥¿éƒ¨çš„äººè¯´è¯å£éŸ³æ¯”è¾ƒæ ‡å‡†. æˆ‘æ²¡è€ƒè¯è¿‡å“ªä¸ªå¯¹ï¼Œæˆ–è€…æ˜¯ä¸¤ä¸ªéƒ½æœ‰ï¼‰ï¼Œé‚£æ—¶å€™AT&amp;T åº—å¤§æ¬ºå®¢ï¼Œ800åªèƒ½æ‰“é•¿é€”ä¸èƒ½æ‰“å¸‚è¯. æ‰€ä»¥å…«åå¹´ä»£å„ç§å¹¿å‘Šåé¢é™„çš„ç”µè¯éƒ½æ˜¯é™¤Nebraskaä»¥å¤–ï¼Œç„¶ååé¢åº”è¯¥è¿˜æœ‰ä¸€ä¸ªNebraskaä¸“ç”¨çš„å·ç .&quot;,</span><br><span class="line">       &quot;2.é²å°”é»˜ä¸€ç›´éƒ½æ˜¯è¿™ç§ç”»é£â€¦â€¦&quot;,</span><br><span class="line">       &quot;3.è§å¤šäº†æˆ‘ä»¬çš„cheer leaderçš„è¡¨æ¼”å°±ä¸è§æ€ªäº†ã€‚å†…éƒ¨company meetingä¸Šçš„é‚£äº›ä½ ä»¬æ²¡è§è¿‡ï¼Œè¿˜æœ‰billgå‡ºæ¼”çš„ã€‚è¿˜æœ‰ä¸ªå˜²è®½éwindowsç³»ç»Ÿçš„å¹¿å‘Šï¼Œå¥½åƒæ˜¯å’ŒBrian Valentineä¸€èµ·æ¼”çš„ï¼Œé‚£è´§ä¹Ÿæ˜¯ä¸ªæ€ªå’–ï¼Œä»¥å‰Windowsçš„SVPã€‚&quot;],</span><br><span class="line"></span><br><span class="line">      [&quot;1.å®ƒçœŸçš„é»‘ï¼Œé»‘å‡ºäº®ã€‚&quot;,</span><br><span class="line">       &quot;2.åœ¨å¤©æœï¼Œè´­ä¹°å®ƒæ‰€ç¼´çº³çš„æ¶ˆè´¹ç¨å¯ä»¥ä¹°ä¸€å°è¶…çº§æœ¬&quot;,</span><br><span class="line">       &quot;3.è¿™å®¶èƒ½å¤Ÿæ“ä½œä¾›åº”é“¾çš„å…¬å¸ï¼Œæƒ³è¦ä»€ä¹ˆæ ·çš„æ˜¾å¡ã€ä»€ä¹ˆæ ·çš„å†…å­˜ã€ä»€ä¹ˆæ ·çš„SSDéƒ½èƒ½ä¿¡æ‰‹æ‹ˆæ¥ï¼›è¿™å¤Ÿé»‘å§&quot;],</span><br><span class="line"></span><br><span class="line">      [&quot;1.æ®å·´å®è‰æ–°é—»ç¨¿äº†è§£ï¼ŒApple TVåœ¨ç›´æ’­è¿‡ç¨‹ä¸­å°†æ¨å‡ºè´­ç‰©åŠŸèƒ½ï¼Œè§‚ä¼—èƒ½ç›´æ¥é¢„å®šç§€åœºä¸Šå‡ºç°çš„æœè£…ã€‚è¿™ä¹ˆçœ‹æ¥ï¼Œè¿™ä¸ªåŠŸèƒ½ç”¨åœ¨å›½å†…ç®€ç›´æ˜¯ä¸€å¤§å¼•å…¥ç‚¹ï¼Œå¯ä»¥åœ¨æ˜¥æ™šç›´æ’­çš„è¿‡ç¨‹ä¸­è´­ä¹°æ˜æ˜ŸåŒæ¬¾ã€‚&quot;,</span><br><span class="line">       &quot;2.è¿™æ¬¡æ€ä¹ˆä¸ç”¨iPhoneÂ®æ‹æ‘„bï¼Ÿ&quot;]</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view, typically from a nib.</span><br><span class="line">        </span><br><span class="line">        let screenRect = UIScreen.main.bounds</span><br><span class="line">        let tableRect = CGRect(x: 0, y: 20, width: screenRect.size.width, height: screenRect.size.height - 20)</span><br><span class="line">        let tableView = UITableView(frame: tableRect)</span><br><span class="line">        </span><br><span class="line">        tableView.dataSource = self</span><br><span class="line">        tableView.delegate = self</span><br><span class="line">        </span><br><span class="line">        tableView.separatorStyle = UITableViewCell.SeparatorStyle.none  //ä¸æ˜¾ç¤ºå•å…ƒæ ¼ä¹‹é—´çš„åˆ†éš”çº¿ï¼Œä»¥é¿å…å’Œå†…å±‚tableViewä¸­çš„å•å…ƒæ ¼åˆ†éš”çº¿æ··æ·†</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(tableView)</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //è®¾ç½®å•å…ƒæ ¼çš„è¡Œæ•°ä¸ºarticlesæ•°ç»„é•¿åº¦çš„2å€ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬åˆ›å»ºçš„è¡¨æ ¼çš„å¶æ•°è¡Œç”¨æ¥æ˜¾ç¤ºæ–°é—»æ ‡é¢˜ï¼Œå¥‡æ•°è¡Œç”¨æ¥æ˜¾ç¤ºæ–°é—»è¯„è®º</span><br><span class="line">    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int&#123;</span><br><span class="line">        return articles.count * 2</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath)</span><br><span class="line">        -&gt; UITableViewCell &#123;</span><br><span class="line">        </span><br><span class="line">            //å®šä¹‰ä¸¤ä¸ªå­—ç¬¦ä¸²å˜é‡ï¼Œè¡¨ç¤ºä¸¤ç§ç±»å‹çš„å•å…ƒæ ¼</span><br><span class="line">            //ç¬¬ä¸€ç§ç±»å‹çš„å•å…ƒæ ¼ä¸ºæ™®é€šçš„UITableViewCellå•å…ƒæ ¼ï¼Œç”¨äºæ˜¾ç¤ºæ–°é—»çš„æ ‡é¢˜</span><br><span class="line">            //ç¬¬äºŒç§ç±»å‹çš„å•å…ƒæ ¼ä¸ºè‡ªå®šä¹‰çš„CustomizeUITableViewCellå•å…ƒæ ¼ï¼Œè¯¥å•å…ƒæ ¼åŒ…å«ä¸€ä¸ªUITableViewå­å…ƒç´ ï¼Œç”¨äºæ˜¾ç¤ºæŸæ¡æ–°é—»æ‰€å±çš„æ‰€æœ‰è¯„è®ºä¿¡æ¯</span><br><span class="line">            let cellForArticle = &quot;cellForArticle&quot;</span><br><span class="line">            let cellForComments = &quot;cellForComments&quot;</span><br><span class="line"></span><br><span class="line">            var cell1: UITableViewCell?</span><br><span class="line">            var cell2: CustomizeUITableViewCell?</span><br><span class="line">        </span><br><span class="line">            //å¦‚æœå½“å‰å•å…ƒæ ¼æ˜¯å¶æ•°è¡Œï¼Œå°±åˆ›å»ºæ™®é€šçš„UITableViewCellå•å…ƒæ ¼å¯¹è±¡ï¼Œå¦åˆ™å°±åˆ›å»ºCustomizeUITableViewCellç±»å‹çš„å•å…ƒæ ¼</span><br><span class="line">            if (indexPath as NSIndexPath).row % 2 == 0 &#123;</span><br><span class="line">                cell1 = tableView.dequeueReusableCell(withIdentifier: cellForArticle)</span><br><span class="line">                if cell1 == nil&#123;</span><br><span class="line">                    cell1 = UITableViewCell(style: UITableViewCell.CellStyle.default,</span><br><span class="line">                        reuseIdentifier: cellForArticle)</span><br><span class="line">                &#125;</span><br><span class="line">                cell1?.textLabel?.text = articles[(indexPath as NSIndexPath).row/2]</span><br><span class="line">                cell1?.textLabel?.font = UIFont.systemFont(ofSize: 16)</span><br><span class="line">                cell1?.textLabel?.textColor = UIColor.lightGray</span><br><span class="line">                cell1?.backgroundColor = UIColor.black</span><br><span class="line">                return cell1!</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                cell2 = tableView.dequeueReusableCell(withIdentifier: cellForComments) as? CustomizeUITableViewCell</span><br><span class="line">                if cell2 == nil&#123;</span><br><span class="line">                    cell2 = CustomizeUITableViewCell(style: UITableViewCell.CellStyle.default,</span><br><span class="line">                        reuseIdentifier: cellForComments)</span><br><span class="line">                &#125;</span><br><span class="line">                let subComments = comments[(indexPath as NSIndexPath).row/2]</span><br><span class="line">                </span><br><span class="line">                cell2?.setCommentsForTable(subComments)  //è®¾ç½®è‡ªå®šä¹‰å•å…ƒæ ¼ä¸­UITableViewå¯¹è±¡çš„æ•°æ®æºä¸ºåˆšåˆšè·å¾—çš„è¯„è®ºæ•°ç»„å¯¹è±¡</span><br><span class="line">                return cell2!</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //è®¾ç½®å¤–å±‚è¡¨æ ¼çš„å•å…ƒæ ¼çš„é«˜åº¦</span><br><span class="line">    func tableView(_ tableView: UITableView, heightForRowAt indexPath: IndexPath) -&gt; CGFloat &#123;</span><br><span class="line">        </span><br><span class="line">        //å¯¹äºç”¨æ¥æ˜¾ç¤ºæ–°é—»æ ‡é¢˜çš„å•å…ƒæ ¼æ¥è¯´ï¼Œå¯ä»¥å°†å…¶é«˜åº¦è®¾ç½®ä¸ºå›ºå®šå€¼ï¼›ä½†æ˜¯å¯¹äºç”¨æ¥æ˜¾ç¤ºè¯„è®ºä¿¡æ¯çš„å•å…ƒæ ¼æ¥è¯´ï¼Œå…¶é«˜åº¦åº”æ ¹æ®è¯„è®ºæ–‡å­—å†…å®¹çš„å¤šå°‘è€ŒåŠ¨æ€å˜åŒ–</span><br><span class="line">        if (indexPath as NSIndexPath).row % 2 == 0 &#123;</span><br><span class="line">            return 40</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            let subComments = comments[(indexPath as NSIndexPath).row/2]</span><br><span class="line">            var cellHeight:CGFloat = 0</span><br><span class="line">            for i in 0 ..&lt; subComments.count</span><br><span class="line">            &#123;</span><br><span class="line">                let size = subComments[i].boundingRect(with: CGSize(), options: NSStringDrawingOptions.usesFontLeading, attributes: nil, context: nil);</span><br><span class="line">                cellHeight += size.height*(size.width/170)</span><br><span class="line">            &#125;</span><br><span class="line">            return cellHeight + 50</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/">ä»£ç ä»“åº“</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS-%E5%8A%9F%E8%83%BDdemo/" rel="tag">iOS-åŠŸèƒ½demo</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-ä»£ç ä»“åº“/iOS-åŠŸèƒ½demo/UICollectionView" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2021/04/08/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/UICollectionView/" class="article-date">
      <time datetime="2021-04-07T16:00:00.000Z" itemprop="datePublished">2021-04-08</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2021/04/08/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/UICollectionView/">UICollectionView</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//UITableViewæœ€å¤§çš„ç‰¹ç‚¹ï¼šå°†æ‰€æœ‰çš„å†…å®¹éƒ½ä»¥ä¸Šä¸‹ç›¸è¿çš„æ–¹å¼æ’åˆ—åœ¨ä¸€æ æ»šåŠ¨åˆ—è¡¨ä¸­ï¼Œè¿™å°±ä½¿å¾—UITableViewçš„å¸ƒå±€æœ‰äº†å¾ˆå¤§çš„å±€é™æ€§</span><br><span class="line">//UICollectionViewç”¨äºå±•ç¤ºé›†åˆè§†å›¾ï¼Œå…¶å¸ƒå±€æ›´åŠ çµæ´»ï¼Œå¯å®ç°å¤šåˆ—å¸ƒå±€</span><br><span class="line"></span><br><span class="line">//æ­¤å®ä¾‹ä¸­å°†ä½¿ç”¨UICollectionViewçš„UICollectionViewFlowLayouté»˜è®¤å¸ƒå±€æ¨¡å¼ï¼Œé™¤äº†è¯¥å¸ƒå±€æ¨¡å¼ä¹‹å¤–ï¼ŒUICollectionViewè¿˜å…·æœ‰å †å å¸ƒå±€ã€åœ†å½¢å¸ƒå±€ã€Cover Flowå¸ƒå±€æ¨¡å¼</span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController, UICollectionViewDataSource, UICollectionViewDelegate &#123;</span><br><span class="line">    </span><br><span class="line">    //è¯¥æ•°ç»„å°†ä½œä¸ºUICollectionViewå¯¹è±¡çš„æ•°æ®æº</span><br><span class="line">    var images = [&quot;Pic1&quot;, &quot;Pic2&quot;, &quot;Pic3&quot;, &quot;Pic4&quot;, &quot;Pic5&quot;, &quot;Pic6&quot;, &quot;Pic7&quot;, &quot;Pic8&quot;, &quot;Pic9&quot;, &quot;Pic9&quot;, &quot;Pic9&quot;, &quot;Pic9&quot;]</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view, typically from a nib.</span><br><span class="line">        </span><br><span class="line">        let screenRect = UIScreen.main.bounds</span><br><span class="line">        let rect = CGRect(x: 0, y: 10, width: screenRect.size.width, height: screenRect.size.height - 20)</span><br><span class="line">        </span><br><span class="line">        let flowLayout = UICollectionViewFlowLayout()</span><br><span class="line">        flowLayout.itemSize = CGSize(width: 155, height: 135)  //è¯¥å±æ€§ç”¨æ¥è®¾ç½®cellçš„é»˜è®¤å°ºå¯¸ä¿¡æ¯</span><br><span class="line">        flowLayout.scrollDirection = UICollectionView.ScrollDirection.vertical  //å‚ç›´æ–¹å‘ï¼Œå³é›†åˆè§†å›¾å¯ä»¥åœ¨å‚ç›´æ–¹å‘ä¸Šè¿›è¡Œæ»‘åŠ¨ï¼Œç½‘æ ¼åªèƒ½åœ¨ä¸€ä¸ªæ–¹å‘è½´ä¸Šè¿›è¡Œæ»‘åŠ¨ï¼Œè¦ä¹ˆæ˜¯å‚ç›´æ–¹å‘ï¼Œè¦ä¹ˆæ˜¯æ°´å¹³æ–¹å‘</span><br><span class="line">        </span><br><span class="line">        let collectionView = UICollectionView(frame: rect, collectionViewLayout: flowLayout)</span><br><span class="line">        </span><br><span class="line">        collectionView.dataSource = self</span><br><span class="line">        collectionView.delegate = self</span><br><span class="line">        </span><br><span class="line">        //ç”±äºé›†åˆå¯¹è±¡æ˜¯é€šè¿‡ä»£ç ç”Ÿæˆçš„ï¼Œè€Œä¸æ˜¯é€šè¿‡æ•…äº‹ç‰ˆæˆ–NIBæ–‡ä»¶ç”Ÿæˆï¼Œå› æ­¤éœ€è¦æ³¨å†Œä¸€ä¸ªUICollectionViewCellç±»ï¼Œä¸ç„¶åœ¨åˆå§‹åŒ–æ–°çš„UICollectionViewCellæ—¶ä¼šå‘ç”Ÿé”™è¯¯ï¼ŒåŒæ—¶è¦æ³¨æ„forCellWithReuseIdentifier:å‚æ•°çš„å€¼ï¼Œè¯¥å€¼åº”ä¸åˆ›å»ºUICollectionViewCellå¯¹è±¡æ—¶çš„é‡ç”¨æ ‡å¿—å­—ç¬¦ä¸²ç›¸åŒ</span><br><span class="line">        collectionView.register(UICollectionViewCell.classForCoder(), forCellWithReuseIdentifier: &quot;reusedCell&quot;)</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(collectionView)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func collectionView(_ collectionView: UICollectionView, numberOfItemsInSection section: Int) -&gt; Int &#123;</span><br><span class="line">        return images.count</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //åˆå§‹åŒ–å¹¶å¤ç”¨UICollectionViewCellå¯¹è±¡</span><br><span class="line">    func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -&gt; UICollectionViewCell &#123;</span><br><span class="line">        </span><br><span class="line">        let identifier = &quot;reusedCell&quot;</span><br><span class="line">        let cell = collectionView.dequeueReusableCell(withReuseIdentifier: identifier, for: indexPath)</span><br><span class="line">        </span><br><span class="line">        //æ£€æŸ¥cellä¸­æ˜¯å¦å­˜åœ¨tagå€¼ä¸º1çš„UIImageViewå¯¹è±¡ï¼Œå¦‚æœä¸å­˜åœ¨å°±ç»™cellæ·»åŠ ä¸€ä¸ªæ–°çš„UIImageViewå¯¹è±¡</span><br><span class="line">        let imageView: UIImageView? = cell.viewWithTag(1) as? UIImageView</span><br><span class="line">        </span><br><span class="line">        if imageView == nil&#123;</span><br><span class="line">            let image = UIImage(named: images[(indexPath as NSIndexPath).row])</span><br><span class="line">            let imageView = UIImageView(image: image)</span><br><span class="line">            </span><br><span class="line">            imageView.frame = CGRect(x: 0, y: 0, width: 150, height: 135)</span><br><span class="line">            imageView.layer.opacity = 0.5  //å±‚çš„é€æ˜åº¦</span><br><span class="line">            imageView.tag = 1</span><br><span class="line">            </span><br><span class="line">            cell.addSubview(imageView)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            imageView?.image = UIImage(named: images[(indexPath as NSIndexPath).row])</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return cell</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //å®ç°UICollectionViewDelegateåè®®ä¸­çš„æ‰‹æŒ‡è§¦æ‘¸æ£€æµ‹æ–¹æ³•</span><br><span class="line">    func collectionView(_ collectionView: UICollectionView, didSelectItemAt indexPath: IndexPath) &#123;</span><br><span class="line">        </span><br><span class="line">        let cell = collectionView.cellForItem(at: indexPath)</span><br><span class="line">        let imageView = cell?.viewWithTag(1)</span><br><span class="line">        </span><br><span class="line">        imageView?.layer.opacity = 1.0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/">ä»£ç ä»“åº“</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS-%E5%8A%9F%E8%83%BDdemo/" rel="tag">iOS-åŠŸèƒ½demo</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-ä»£ç ä»“åº“/iOS-åŠŸèƒ½demo/å¯¹è§¦æ‘¸äº‹ä»¶é˜¶æ®µçš„ç›‘æµ‹" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2021/04/07/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/%E5%AF%B9%E8%A7%A6%E6%91%B8%E4%BA%8B%E4%BB%B6%E9%98%B6%E6%AE%B5%E7%9A%84%E7%9B%91%E6%B5%8B/" class="article-date">
      <time datetime="2021-04-06T16:00:00.000Z" itemprop="datePublished">2021-04-07</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2021/04/07/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/%E5%AF%B9%E8%A7%A6%E6%91%B8%E4%BA%8B%E4%BB%B6%E9%98%B6%E6%AE%B5%E7%9A%84%E7%9B%91%E6%B5%8B/">å¯¹è§¦æ‘¸äº‹ä»¶é˜¶æ®µçš„ç›‘æµ‹</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//åœ¨iOSä¸­å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç±»éƒ½èƒ½æ¥æ”¶å¹¶å¤„ç†äº‹ä»¶ï¼Œåªæœ‰ç»§æ‰¿è‡ªUIResponderç±»çš„å¯¹è±¡æ‰èƒ½å¤„ç†è§¦æ‘¸äº‹ä»¶</span><br><span class="line">//UIResponderæ˜¯UIViewçš„çˆ¶ç±»ï¼Œå¸¸ç”¨çš„UIViewæ§ä»¶ã€UIViewControllerè§†å›¾æ§åˆ¶å™¨ã€UIApplicationéƒ½ç»§æ‰¿è‡ªUIResponderï¼Œå®ƒä»¬éƒ½èƒ½æ¥æ”¶å¹¶å¤„ç†è§¦æ‘¸äº‹ä»¶</span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view, typically from a nib.</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //UIResponderå¤„ç†è§¦å±äº‹ä»¶çš„4ä¸ªæ–¹æ³•</span><br><span class="line">    </span><br><span class="line">    //å½“ä¸€ä¸ªæˆ–å¤šä¸ªæ‰‹æŒ‡åœ¨ç›¸å…³è”çš„è§†å›¾ä¸ŠæŒ‰ä¸‹æ—¶è°ƒç”¨æ­¤æ–¹æ³•</span><br><span class="line">    override func touchesBegan(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?) &#123;</span><br><span class="line">        print(&quot;touchesBegan&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //å½“ä¸€ä¸ªæˆ–å¤šä¸ªæ‰‹æŒ‡åœ¨ç›¸å…³è”çš„è§†å›¾ä¸Šæ»‘åŠ¨æ—¶è°ƒç”¨æ­¤æ–¹æ³•</span><br><span class="line">    override func touchesMoved(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?) &#123;</span><br><span class="line">        print(&quot;touchesMoved&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //å½“ä¸€ä¸ªæˆ–å¤šä¸ªæ‰‹æŒ‡æ»‘å‡ºç›¸å…³è”çš„è§†å›¾æ—¶è°ƒç”¨æ­¤æ–¹æ³•</span><br><span class="line">    override func touchesEnded(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?) &#123;</span><br><span class="line">        print(&quot;touchesEnded&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //å½“ç”±äºç³»ç»Ÿäº‹ä»¶çš„å‘ç”Ÿ(æ¯”å¦‚æ¥ç”µã€ä½ç”µé‡é€šçŸ¥ç­‰)è€Œé€ æˆè§¦æ‘¸äº‹ä»¶è¢«å–æ¶ˆæ—¶è°ƒç”¨æ­¤æ–¹æ³•</span><br><span class="line">    override func touchesCancelled(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?) &#123;</span><br><span class="line">        print(&quot;touchesCancelled&quot;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/">ä»£ç ä»“åº“</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS-%E5%8A%9F%E8%83%BDdemo/" rel="tag">iOS-åŠŸèƒ½demo</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-ä»£ç ä»“åº“/iOS-åŠŸèƒ½demo/ç›‘æµ‹æ˜¯å¦è§¦æ‘¸åˆ°æŸä¸ªè§†å›¾å¹¶å®ç°å›¾åƒè§†å›¾çš„æ‹–åŠ¨" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2021/04/06/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/%E7%9B%91%E6%B5%8B%E6%98%AF%E5%90%A6%E8%A7%A6%E6%91%B8%E5%88%B0%E6%9F%90%E4%B8%AA%E8%A7%86%E5%9B%BE%E5%B9%B6%E5%AE%9E%E7%8E%B0%E5%9B%BE%E5%83%8F%E8%A7%86%E5%9B%BE%E7%9A%84%E6%8B%96%E5%8A%A8/" class="article-date">
      <time datetime="2021-04-05T16:00:00.000Z" itemprop="datePublished">2021-04-06</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2021/04/06/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/%E7%9B%91%E6%B5%8B%E6%98%AF%E5%90%A6%E8%A7%A6%E6%91%B8%E5%88%B0%E6%9F%90%E4%B8%AA%E8%A7%86%E5%9B%BE%E5%B9%B6%E5%AE%9E%E7%8E%B0%E5%9B%BE%E5%83%8F%E8%A7%86%E5%9B%BE%E7%9A%84%E6%8B%96%E5%8A%A8/">ç›‘æµ‹æ˜¯å¦è§¦æ‘¸åˆ°æŸä¸ªè§†å›¾å¹¶å®ç°å›¾åƒè§†å›¾çš„æ‹–åŠ¨</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    </span><br><span class="line">    var imageView: UIImageView!</span><br><span class="line">    var isTouchInImageView: Bool = false</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view, typically from a nib.</span><br><span class="line">        </span><br><span class="line">        //å½“ç”¨æˆ·ç‚¹å‡»æŸä¸ªè§†å›¾æ—¶ï¼Œå¯ä»¥é€šè¿‡UITouchç±»è·å¾—ç‚¹å‡»äº‹ä»¶åœ¨è§†å›¾ä¸­çš„ä½ç½®ï¼Œç„¶åé€šè¿‡åˆ¤æ–­è¯¥ä½ç½®æ˜¯å¦åœ¨è§†å›¾çš„frameåŒºåŸŸä¸­ï¼Œä»è€Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç‚¹å‡»äº†æŸä¸ªè§†å›¾</span><br><span class="line">        let image = UIImage(named: &quot;Star&quot;)</span><br><span class="line">        self.imageView = UIImageView(image: image)</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(self.imageView)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //ç”¨æ¥ç›‘æµ‹ç”¨æˆ·æ˜¯å¦æŒ‰ä¸‹æ‰‹æŒ‡</span><br><span class="line">    override func touchesBegan(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?) &#123;</span><br><span class="line">        </span><br><span class="line">        let touch = touches.first  //è·å¾—ä¸€ä¸ªUITouchå¯¹è±¡</span><br><span class="line">        let touchPoint = touch?.location(in: self.view)  //è·å¾—åœ¨å½“å‰è§†å›¾æ§åˆ¶å™¨æ ¹è§†å›¾ä¸­çš„ä½ç½®</span><br><span class="line">        </span><br><span class="line">        let imageViewFrame = self.imageView.frame</span><br><span class="line">        let minX = imageViewFrame.origin.x</span><br><span class="line">        let minY = imageViewFrame.origin.y</span><br><span class="line">        let maxX = minX + imageViewFrame.size.width</span><br><span class="line">        let maxY = minY + imageViewFrame.size.height</span><br><span class="line">        </span><br><span class="line">        //åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç‚¹å‡»äº†å›¾åƒè§†å›¾</span><br><span class="line">        if (touchPoint?.x)! &gt;= minX &amp;&amp; (touchPoint?.x)! &lt;= maxX &amp;&amp; (touchPoint?.y)! &gt;= minY &amp;&amp; (touchPoint?.y)! &lt;= maxY &#123;</span><br><span class="line">            </span><br><span class="line">            isTouchInImageView = true</span><br><span class="line">            print(&quot;æ‚¨æ¡åˆ°ä¸€æšæ˜Ÿæ˜Ÿ&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //</span><br><span class="line">    override func touchesMoved(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?) &#123;</span><br><span class="line">        </span><br><span class="line">        //åˆ¤æ–­ç”¨æˆ·æ˜¯å¦åœ¨å›¾åƒè§†å›¾ä¸­æŒ‰ä¸‹æ‰‹æŒ‡</span><br><span class="line">        if !isTouchInImageView &#123;</span><br><span class="line">            return</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        let touch = touches.first</span><br><span class="line">        let touchPoint = touch?.location(in: self.view)  //è·å¾—ç”¨æˆ·å½“å‰çš„è§¦æ‘¸ä½ç½®</span><br><span class="line">        let touchPrePoint = touch?.previousLocation(in: self.view)  //è·å¾—ä¸Šä¸€ä¸ªç§»åŠ¨ä½ç½®</span><br><span class="line">        </span><br><span class="line">        //åç§»è·ç¦»</span><br><span class="line">        let disX = (touchPoint?.x)! - (touchPrePoint?.x)!</span><br><span class="line">        let disY = (touchPoint?.y)! - (touchPrePoint?.y)!</span><br><span class="line">        </span><br><span class="line">        var centerPoint = self.imageView.center</span><br><span class="line">        centerPoint.x += disX</span><br><span class="line">        centerPoint.y += disY</span><br><span class="line">        </span><br><span class="line">        self.imageView.center = centerPoint</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    override func touchesEnded(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?) &#123;</span><br><span class="line">        isTouchInImageView = false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/">ä»£ç ä»“åº“</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS-%E5%8A%9F%E8%83%BDdemo/" rel="tag">iOS-åŠŸèƒ½demo</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-ä»£ç ä»“åº“/iOS-åŠŸèƒ½demo/è§¦æ‘¸æ‰‹åŠ¿" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2021/04/05/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/%E8%A7%A6%E6%91%B8%E6%89%8B%E5%8A%BF/" class="article-date">
      <time datetime="2021-04-04T16:00:00.000Z" itemprop="datePublished">2021-04-05</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2021/04/05/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/%E8%A7%A6%E6%91%B8%E6%89%8B%E5%8A%BF/">è§¦æ‘¸æ‰‹åŠ¿</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<h3 id="å®ç°å•ç‚¹è§¦æ‘¸æ‰‹åŠ¿"><a href="#å®ç°å•ç‚¹è§¦æ‘¸æ‰‹åŠ¿" class="headerlink" title="å®ç°å•ç‚¹è§¦æ‘¸æ‰‹åŠ¿"></a>å®ç°å•ç‚¹è§¦æ‘¸æ‰‹åŠ¿</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    </span><br><span class="line">    var imageView: UIImageView!</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view, typically from a nib.</span><br><span class="line">        </span><br><span class="line">        //UIGestureRecognizerç±»å¯¹ç”¨æˆ·å¸¸ç”¨çš„æ‰‹åŠ¿æ“ä½œè¿›è¡Œäº†è¯†åˆ«ï¼šUIPanGestureRecognizeræ‹–åŠ¨æ‰‹åŠ¿ã€UIPinchGestureRecognizeræåˆæ‰‹åŠ¿ã€UIRotationGestureRecognizeræ—‹è½¬æ‰‹åŠ¿ã€UITapGestureRecognizerç‚¹å‡»æ‰‹åŠ¿ã€UILongPressGestureRecognizeré•¿æŒ‰æ‰‹åŠ¿ã€UISwipeGestureRecognizerè½»æ‰«æ‰‹åŠ¿</span><br><span class="line">        //UIGestureRecognizeræ‰‹åŠ¿åˆ†ä¸ºdiscrete gestureséè¿ç»­æ‰‹åŠ¿å’Œcontinuous gesturesè¿ç»­æ‰‹åŠ¿ä¸¤ç§ï¼ŒUITapGestureRecognizerå±äºéè¿ç»­ç±»å‹çš„æ‰‹åŠ¿ï¼Œå…¶ä»–5ç§æ‰‹åŠ¿åˆ™å±äºè¿ç»­ç±»å‹çš„æ‰‹åŠ¿</span><br><span class="line">        </span><br><span class="line">        //å®ç°å•ç‚¹è§¦æ‘¸æ‰‹åŠ¿</span><br><span class="line">        let rect = CGRect(x: 0, y: 80, width: 320, height: 320)</span><br><span class="line">        self.imageView = UIImageView(frame: rect)</span><br><span class="line">        </span><br><span class="line">        let image = UIImage(named: &quot;lock&quot;)</span><br><span class="line">        imageView.image = image</span><br><span class="line">        </span><br><span class="line">        imageView.isUserInteractionEnabled = true  //ä½¿å›¾åƒè§†å›¾å¯ä»¥æ¥æ”¶ç”¨æˆ·çš„äº¤äº’åŠ¨ä½œ</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(self.imageView)</span><br><span class="line">        </span><br><span class="line">        let guesture = UITapGestureRecognizer(target: self, action: #selector(ViewController.singleTap))</span><br><span class="line">        imageView.addGestureRecognizer(guesture)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @objc func singleTap()</span><br><span class="line">    &#123;</span><br><span class="line">        let image = UIImage(named: &quot;unlock&quot;)</span><br><span class="line">        imageView.image = image</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å®ç°åŒå‡»è§¦æ‘¸æ‰‹åŠ¿"><a href="#å®ç°åŒå‡»è§¦æ‘¸æ‰‹åŠ¿" class="headerlink" title="å®ç°åŒå‡»è§¦æ‘¸æ‰‹åŠ¿"></a>å®ç°åŒå‡»è§¦æ‘¸æ‰‹åŠ¿</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    </span><br><span class="line">    var imageView: UIImageView!</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view, typically from a nib.</span><br><span class="line">        </span><br><span class="line">        //å®ç°åŒå‡»è§¦æ‘¸æ‰‹åŠ¿</span><br><span class="line">        let rect = CGRect(x: 0, y: 80, width: 320, height: 320)</span><br><span class="line">        self.imageView = UIImageView(frame: rect)</span><br><span class="line">        </span><br><span class="line">        let image = UIImage(named: &quot;lock&quot;)</span><br><span class="line">        imageView.image = image</span><br><span class="line">        </span><br><span class="line">        imageView.isUserInteractionEnabled = true  //ä½¿å›¾åƒè§†å›¾å¯ä»¥æ¥æ”¶ç”¨æˆ·çš„äº¤äº’åŠ¨ä½œ</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(self.imageView)</span><br><span class="line">        </span><br><span class="line">        let guesture = UITapGestureRecognizer(target: self, action: #selector(ViewController.doubleTap))</span><br><span class="line">        guesture.numberOfTapsRequired = 2  //è¯†åˆ«è¿›è¡Œä¸¤æ¬¡ç‚¹å‡»çš„æ‰‹åŠ¿ï¼Œè¯¥å±æ€§çš„é»˜è®¤å€¼ä¸º1</span><br><span class="line">        guesture.numberOfTouchesRequired = 1  //è¯†åˆ«ä¸€æ ¹æ‰‹æŒ‡è¿›è¡Œä¸¤æ¬¡ç‚¹å‡»çš„æ‰‹åŠ¿ï¼Œè¯¥å±æ€§çš„é»˜è®¤å€¼ä¹Ÿæ˜¯1</span><br><span class="line">        imageView.addGestureRecognizer(guesture)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @objc func doubleTap()</span><br><span class="line">    &#123;</span><br><span class="line">        let image = UIImage(named: &quot;unlock&quot;)</span><br><span class="line">        imageView.image = image</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å®ç°é•¿æŒ‰æ‰‹åŠ¿çš„ç›‘æµ‹"><a href="#å®ç°é•¿æŒ‰æ‰‹åŠ¿çš„ç›‘æµ‹" class="headerlink" title="å®ç°é•¿æŒ‰æ‰‹åŠ¿çš„ç›‘æµ‹"></a>å®ç°é•¿æŒ‰æ‰‹åŠ¿çš„ç›‘æµ‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    </span><br><span class="line">    var imageView: UIImageView!</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view, typically from a nib.</span><br><span class="line">        </span><br><span class="line">        //å®ç°é•¿æŒ‰æ‰‹åŠ¿çš„ç›‘æµ‹</span><br><span class="line">        let rect = CGRect(x: 0, y: 80, width: 320, height: 320)</span><br><span class="line">        self.imageView = UIImageView(frame: rect)</span><br><span class="line">        </span><br><span class="line">        let image = UIImage(named: &quot;lock&quot;)</span><br><span class="line">        imageView.image = image</span><br><span class="line">        </span><br><span class="line">        imageView.isUserInteractionEnabled = true  //ä½¿å›¾åƒè§†å›¾å¯ä»¥æ¥æ”¶ç”¨æˆ·çš„äº¤äº’åŠ¨ä½œ</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(self.imageView)</span><br><span class="line">        </span><br><span class="line">        let guesture = UILongPressGestureRecognizer(target: self, action: #selector(ViewController.longPress(_ :)))</span><br><span class="line">        guesture.minimumPressDuration = 1.0  //åªæœ‰å½“æ‰‹æŒ‡æŒ‰ä¸‹å¹¶æŒç»­1ç§’é’Ÿä¹‹åï¼Œæ‰ä¼šè¢«è¯†åˆ«ä¸ºé•¿æŒ‰æ‰‹åŠ¿</span><br><span class="line">        guesture.allowableMovement = 20.0  //åœ¨æ‰‹æŒ‡å¤„äºæŒ‰ä¸‹çŠ¶æ€æ—¶ï¼Œè‹¥æ‰‹åŠ¿ç§»åŠ¨çš„è·ç¦»è¶…è¿‡20ç‚¹ï¼Œåˆ™è§†ä¸ºéé•¿æŒ‰æ‰‹åŠ¿ï¼Œæ­¤å±æ€§çš„é»˜è®¤å€¼ä¸º10</span><br><span class="line">        imageView.addGestureRecognizer(guesture)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @objc func longPress(_ gusture: UILongPressGestureRecognizer)</span><br><span class="line">    &#123;</span><br><span class="line">        if gusture.state == UIGestureRecognizer.State.began&#123;</span><br><span class="line">            </span><br><span class="line">            let image = UIImage(named: &quot;unlock&quot;)</span><br><span class="line">            imageView.image = image</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="æåˆæ‰‹åŠ¿çš„ç›‘æµ‹"><a href="#æåˆæ‰‹åŠ¿çš„ç›‘æµ‹" class="headerlink" title="æåˆæ‰‹åŠ¿çš„ç›‘æµ‹"></a>æåˆæ‰‹åŠ¿çš„ç›‘æµ‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    </span><br><span class="line">    var imageView: UIImageView!</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view, typically from a nib.</span><br><span class="line">        </span><br><span class="line">        //æåˆæ‰‹åŠ¿çš„ç›‘æµ‹</span><br><span class="line">        let rect = CGRect(x: 0, y: 80, width: 320, height: 320)</span><br><span class="line">        self.imageView = UIImageView(frame: rect)</span><br><span class="line">        </span><br><span class="line">        let image = UIImage(named: &quot;Hand&quot;)</span><br><span class="line">        imageView.image = image</span><br><span class="line">        </span><br><span class="line">        imageView.isUserInteractionEnabled = true  //ä½¿å›¾åƒè§†å›¾å¯ä»¥æ¥æ”¶ç”¨æˆ·çš„äº¤äº’åŠ¨ä½œ</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(self.imageView)</span><br><span class="line">        </span><br><span class="line">        //å½“ä¸¤ä¸ªæ‰‹æŒ‡æŒ‰ä¸‹å¹¶ç§»åˆ°ä¸€å®šè·ç¦»æ—¶ï¼Œä¼šè¢«è¯†åˆ«ä¸ºä¸€ä¸ªPinchæåˆæ‰‹åŠ¿ï¼Œæ­¤æ—¶æåˆæ‰‹åŠ¿å¤„äºbeginsçŠ¶æ€ã€‚æ¥ç€åªè¦å…¶ä¸­ä¸€ä¸ªæ‰‹æŒ‡ç»§ç»­ç§»åŠ¨ï¼Œæåˆæ‰‹åŠ¿å°†è¿›å…¥changesçŠ¶æ€ï¼Œå½“ä¸¤ä¸ªæ‰‹æŒ‡éƒ½æ¾å¼€æ—¶ï¼Œæåˆæ‰‹åŠ¿å°†å¤„äºendsçŠ¶æ€</span><br><span class="line">        let guesture = UIPinchGestureRecognizer(target: self, action: #selector(ViewController.pinchImage(_ :)))</span><br><span class="line">        imageView.addGestureRecognizer(guesture)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @objc func pinchImage(_ recognizer: UIPinchGestureRecognizer) &#123;</span><br><span class="line">        </span><br><span class="line">        //é€šè¿‡recognizerå¯¹è±¡çš„viewå±æ€§å¯ä»¥è·å¾—åŒ…å«æåˆæ‰‹åŠ¿çš„è§†å›¾å¯¹è±¡ï¼Œç„¶åé€šè¿‡recognizerå¯¹è±¡çš„scaleå±æ€§çš„å€¼æ›´æ”¹viewå¯¹è±¡çš„transformå±æ€§ï¼Œä»è€Œå®ç°å›¾åƒè§†å›¾çš„ç¼©æ”¾åŠŸèƒ½</span><br><span class="line">        recognizer.view?.transform = (recognizer.view?.transform.scaledBy(x: recognizer.scale, y: recognizer.scale))!</span><br><span class="line">        </span><br><span class="line">        recognizer.scale = 1  //ä½¿æåˆæ‰‹åŠ¿çš„ç¼©æ”¾æ¯”ä¾‹å§‹ç»ˆåœ¨1å€çš„åŸºç¡€ä¸Šè¿›è¡Œé€’å¢æˆ–é€’å‡</span><br><span class="line">        </span><br><span class="line">        //recognizer.velocity  è¡¨ç¤ºåœ¨è¿›è¡Œç¼©æ”¾åŠ¨ä½œæ—¶çš„é€Ÿåº¦</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/">ä»£ç ä»“åº“</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS-%E5%8A%9F%E8%83%BDdemo/" rel="tag">iOS-åŠŸèƒ½demo</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-ä»£ç ä»“åº“/iOS-åŠŸèƒ½demo/3D_Touch" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2021/04/04/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/3D_Touch/" class="article-date">
      <time datetime="2021-04-03T16:00:00.000Z" itemprop="datePublished">2021-04-04</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2021/04/04/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/3D_Touch/">3D_Touch</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">@main</span><br><span class="line">class AppDelegate: UIResponder, UIApplicationDelegate &#123;</span><br><span class="line">    </span><br><span class="line">    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool &#123;</span><br><span class="line">        // Override point for customization after application launch.</span><br><span class="line">        </span><br><span class="line">        let addEventIcon = UIApplicationShortcutIcon(type: .add)  //åˆ›å»ºäº†ä¸€ä¸ªç³»ç»Ÿè‡ªå¸¦çš„ç±»å‹ä¸ºUIApplicationShortcutIcon.IconType.addçš„å¿«æ·å›¾æ ‡ï¼Œç³»ç»Ÿæä¾›äº†29ç§å¿«æ·å›¾æ ‡ä¾›å¼€å‘è€…ä½¿ç”¨</span><br><span class="line">        let unlockEventIcon = UIApplicationShortcutIcon(templateImageName: &quot;unlockEvent&quot;)  //ä½¿ç”¨é¡¹ç›®èµ„æºæ–‡ä»¶å¤¹ä¸­çš„å›¾ç‰‡åˆ›å»ºäº†ä¸¤ä¸ªè‡ªå®šä¹‰çš„å¿«æ·å›¾æ ‡</span><br><span class="line">        let listEventIcon = UIApplicationShortcutIcon(templateImageName: &quot;listEvent&quot;)</span><br><span class="line">        </span><br><span class="line">        //è®¾ç½®å¿«æ·é¡¹ç›®çš„æ ‡é¢˜ã€å›¾æ ‡ç­‰ä¿¡æ¯</span><br><span class="line">        //typeï¼šå¿…è¦å‚æ•°ï¼Œè¡¨ç¤ºå¿«æ·é¡¹ç›®çš„å”¯ä¸€æ ‡è¯†</span><br><span class="line">        //localizedTitleï¼šå¿…è¦å‚æ•°ï¼Œè¡¨ç¤ºå¿«æ·é¡¹ç›®çš„æ ‡é¢˜</span><br><span class="line">        //localizedSubtitleï¼šå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºå¿«æ·é¡¹ç›®çš„å‰¯æ ‡é¢˜</span><br><span class="line">        //iconï¼šå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºå¿«æ·é¡¹ç›®çš„å›¾æ ‡</span><br><span class="line">        //userInfoï¼šå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºappä¼ é€’ç»™åŠ¨ä½œçš„è‡ªå®šä¹‰æ•°æ®ä¿¡æ¯</span><br><span class="line">        let addEvent = UIApplicationShortcutItem(type: &quot;com.coolketang.addMember&quot;, localizedTitle: &quot;æ·»åŠ ä¼šå‘˜&quot;, localizedSubtitle: &quot;Add Member&quot;, icon: addEventIcon, userInfo: nil)</span><br><span class="line">        let unlockEvent = UIApplicationShortcutItem(type: &quot;com.coolketang.unlockMember&quot;, localizedTitle: &quot;è§£é”ä¼šå‘˜&quot;, localizedSubtitle: &quot;Unlock Member&quot;, icon: unlockEventIcon, userInfo: nil)</span><br><span class="line">        let listEvent = UIApplicationShortcutItem(type: &quot;com.coolketang.memberList&quot;, localizedTitle: &quot;ä¼šå‘˜åˆ—è¡¨&quot;, localizedSubtitle: &quot;Members List&quot;, icon: listEventIcon, userInfo: nil)</span><br><span class="line">        </span><br><span class="line">        let shortCutItems = [addEvent, unlockEvent, listEvent]</span><br><span class="line">        application.shortcutItems = shortCutItems</span><br><span class="line">        </span><br><span class="line">        return true</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //å“åº”ç”¨æˆ·åœ¨å¿«æ·èœå•ä¸­çš„ç‚¹å‡»äº‹ä»¶</span><br><span class="line">    func application(_ application: UIApplication, performActionFor shortcutItem: UIApplicationShortcutItem, completionHandler: (Bool) -&gt; Void) &#123;</span><br><span class="line">        </span><br><span class="line">        if shortcutItem.type == &quot;com.coolketang.addMember&quot; &#123;</span><br><span class="line">            print(&quot;è·³è½¬è‡³æ·»åŠ ä¼šå‘˜é¡µé¢ã€‚&quot;)</span><br><span class="line">            </span><br><span class="line">        &#125; else if shortcutItem.type == &quot;com.coolketang.unlockMember&quot;&#123;</span><br><span class="line">            print(&quot;è·³è½¬è‡³è§£é”ä¼šå‘˜é¡µé¢ã€‚&quot;)</span><br><span class="line">            </span><br><span class="line">        &#125; else if shortcutItem.type == &quot;com.coolketang.memberList&quot;&#123;</span><br><span class="line">            print(&quot;è·³è½¬è‡³ä¼šå‘˜åˆ—è¡¨é¡µé¢ã€‚&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    // MARK: UISceneSession Lifecycle</span><br><span class="line">    </span><br><span class="line">    func application(_ application: UIApplication, configurationForConnecting connectingSceneSession: UISceneSession, options: UIScene.ConnectionOptions) -&gt; UISceneConfiguration &#123;</span><br><span class="line">        // Called when a new scene session is being created.</span><br><span class="line">        // Use this method to select a configuration to create the new scene with.</span><br><span class="line">        return UISceneConfiguration(name: &quot;Default Configuration&quot;, sessionRole: connectingSceneSession.role)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func application(_ application: UIApplication, didDiscardSceneSessions sceneSessions: Set&lt;UISceneSession&gt;) &#123;</span><br><span class="line">        // Called when the user discards a scene session.</span><br><span class="line">        // If any sessions were discarded while the application was not running, this will be called shortly after application:didFinishLaunchingWithOptions.</span><br><span class="line">        // Use this method to release any resources that were specific to the discarded scenes, as they will not return.</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/">ä»£ç ä»“åº“</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS-%E5%8A%9F%E8%83%BDdemo/" rel="tag">iOS-åŠŸèƒ½demo</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-ä»£ç ä»“åº“/iOS-åŠŸèƒ½demo/UIViewåŠ¨ç”»å—å’Œå’ŒBlockåŠ¨ç”»" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2021/04/03/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/UIView%E5%8A%A8%E7%94%BB%E5%9D%97%E5%92%8C%E5%92%8CBlock%E5%8A%A8%E7%94%BB/" class="article-date">
      <time datetime="2021-04-02T16:00:00.000Z" itemprop="datePublished">2021-04-03</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2021/04/03/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/UIView%E5%8A%A8%E7%94%BB%E5%9D%97%E5%92%8C%E5%92%8CBlock%E5%8A%A8%E7%94%BB/">UIViewåŠ¨ç”»å—å’Œå’ŒBlockåŠ¨ç”»</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view, typically from a nib.</span><br><span class="line">        </span><br><span class="line">        //iOSä¸­çš„åŠ¨ç”»å®ç°æŠ€æœ¯ä¸»è¦æ˜¯Core Animationå’ŒUIKitï¼Œä¸¤è€…éƒ½å¯ä»¥è´Ÿè´£æ‰€æœ‰çš„æ»šåŠ¨ã€æ—‹è½¬ã€ç¼©å°å’Œæ”¾å¤§ä»¥åŠæ‰€æœ‰çš„iOSåŠ¨ç”»æ•ˆæœ</span><br><span class="line">        //å…¶ä¸­ï¼ŒUIKitå¯ä»¥çœ‹ä½œæ˜¯å¯¹CoreAnimationçš„å°è£…</span><br><span class="line">        </span><br><span class="line">        //UIViewæ‹¥æœ‰å¤šç§åŠ¨ç”»çš„å®ç°æ–¹å¼ï¼šUIViewåŠ¨ç”»å—ã€UIViewçš„BlockåŠ¨ç”»ï¼Œç”šè‡³åŒ…å«å…³é”®å¸§åŠ¨ç”»ï¼Œä½¿ç”¨UIViewåŠ¨ç”»æ—¶ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ä»¥ä¸‹UIViewè§†å›¾çš„å±æ€§äº§ç”Ÿå¹³æ»‘çš„åŠ¨ç”»æ•ˆæœï¼šframeã€boundsã€centerã€transformã€alphaã€backgroundColorã€contentStretch</span><br><span class="line">        </span><br><span class="line">        //UIViewåŠ¨ç”»å—ã€UIViewçš„BlockåŠ¨ç”»</span><br><span class="line">        let rect = CGRect(x: 40, y: 80, width: 240, height: 240)</span><br><span class="line">        let view = UIView(frame: rect)</span><br><span class="line">        view.backgroundColor = UIColor.red</span><br><span class="line">        view.tag = 1  //UIViewå¯¹è±¡çš„tagè¡¨ç¤ºè¯¥è§†å›¾å¯¹è±¡åœ¨çˆ¶è§†å›¾ä¸­çš„å”¯ä¸€æ ‡è¯†ï¼Œè¯¥è§†å›¾è¢«æ·»åŠ åˆ°çˆ¶è§†å›¾æ—¶ï¼Œçˆ¶è§†å›¾å¯ä»¥é€šè¿‡viewWithTag(tag: Int)æ–¹æ³•å¿«é€Ÿæ‰¾åˆ°æ‹¥æœ‰è¯¥æ ‡è¯†çš„å­è§†å›¾</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(view)</span><br><span class="line">        </span><br><span class="line">        let button = UIButton(type: UIButton.ButtonType.system)</span><br><span class="line">        button.frame = CGRect(x: 50, y: 400, width: 220, height: 44)</span><br><span class="line">        button.backgroundColor = UIColor.black</span><br><span class="line">        button.setTitle(&quot;Play&quot;, for: .normal)</span><br><span class="line">        button.titleLabel?.font = UIFont(name: &quot;Arial&quot;, size: 24)</span><br><span class="line">        </span><br><span class="line">        button.addTarget(self, action: #selector(ViewController.playAnimation), for: UIControl.Event.touchUpInside)</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(button)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    /*</span><br><span class="line">    //å®ç°UIViewåŠ¨ç”»çš„æ’­æ”¾</span><br><span class="line">    @objc func playAnimation() &#123;</span><br><span class="line">        </span><br><span class="line">        UIView.beginAnimations(nil, context: nil)  //å¯åŠ¨ä¸€ä¸ªåŠ¨ç”»ï¼ŒåŠ¨ç”»å¹¶ä¸ä¼šç«‹å³è¢«æ‰§è¡Œï¼Œç›´åˆ°è°ƒç”¨UIViewç±»çš„commitAnimationsç±»æ–¹æ³•ï¼Œå¯¹äºä¸€ä¸ªè§†å›¾å¯¹è±¡æ‰§è¡Œçš„ä»‹äºbeginAnimationsæ–¹æ³•è·ŸcommitAnimationsæ–¹æ³•ä¹‹é—´çš„æ“ä½œï¼Œåœ¨commitAnimationsæ–¹æ³•è¢«æ‰§è¡Œåï¼Œæ‰ä¼šç”Ÿæˆå¹¶æ’­æ”¾åŠ¨ç”»</span><br><span class="line">        </span><br><span class="line">        //easeInOutï¼šåŠ¨ç”»æ’­æ”¾é€Ÿåº¦åœ¨å¼€å§‹æ—¶è¾ƒæ…¢ï¼Œç„¶åé€æ¸åŠ é€Ÿï¼Œåœ¨å®Œæˆä¹‹å‰å†æ¬¡å˜æ…¢</span><br><span class="line">        //easeInï¼šåŠ¨ç”»æ’­æ”¾é€Ÿåº¦åœ¨å¼€å§‹æ—¶è¾ƒæ…¢ï¼Œç„¶ååœ¨åŠ¨ç”»æ’­æ”¾è¿‡ç¨‹ä¸­é€æ¸åŠ é€Ÿ</span><br><span class="line">        //easeOutï¼šåŠ¨ç”»æ’­æ”¾é€Ÿåº¦åœ¨å¼€å§‹æ—¶è¾ƒå¿«ï¼Œç„¶ååœ¨åŠ¨ç”»æ’­æ”¾è¿‡ç¨‹ä¸­é€æ¸å‡é€Ÿ</span><br><span class="line">        //linearï¼šåŠ¨ç”»æ’å…¥é€Ÿåº¦åœ¨åŠ¨ç”»æ’­æ”¾è¿‡ç¨‹ä¸­å§‹ç»ˆä¿æŒä¸å˜</span><br><span class="line">        UIView.setAnimationCurve(.easeOut)  //è®¾ç½®åŠ¨ç”»çš„æ’­æ”¾é€Ÿåº¦å˜åŒ–æ›²çº¿ï¼Œè¯¥å±æ€§é»˜è®¤å€¼ä¸ºeaseInOut</span><br><span class="line">        </span><br><span class="line">        UIView.setAnimationDuration(5)  //è®¾ç½®åŠ¨ç”»å—çš„çš„åŠ¨ç”»æŒç»­æ—¶é—´ï¼Œå•ä½ä¸ºç§’ï¼Œé»˜è®¤å€¼ä¸º0.2</span><br><span class="line">        UIView.setAnimationBeginsFromCurrentState(true)  //è®¾ç½®åŠ¨ç”»æ˜¯å¦ä»å½“å‰çŠ¶æ€å¼€å§‹æ’­æ”¾ï¼Œé»˜è®¤å€¼ä¸ºfalse</span><br><span class="line">        </span><br><span class="line">        let view = self.view.viewWithTag(1)</span><br><span class="line">        //view?.frame = CGRect(x: 40, y: 40, width: 0, height: 0)</span><br><span class="line">        //view?.backgroundColor = UIColor.blue</span><br><span class="line">        //view?.alpha = 0</span><br><span class="line">        </span><br><span class="line">        //è®¾ç½®è‡ªå®šä¹‰çš„è¿‡æ¸¡åŠ¨ç”»æ•ˆæœ</span><br><span class="line">        //ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè¿‡æ¸¡æ•ˆæœï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºéœ€è¦åº”ç”¨è¿‡æ¸¡æ•ˆæœçš„è§†å›¾ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºæ˜¯å¦ä¸ºè§†å›¾åœ¨è¿‡æ¸¡å‰åçš„ç”»é¢è¿›è¡Œç¼“å­˜ï¼Œä»¥æé«˜è¿‡æ¸¡æ•ˆæœçš„æ¡¢é€Ÿ</span><br><span class="line">        //flipFromLeftï¼šè§†å›¾ä»å·¦å‘å³æ»‘å…¥å±å¹•ï¼›flipFromRightï¼šè§†å›¾ä»å³å‘å·¦æ»‘å…¥å±å¹•ï¼›curlUpï¼šè§†å›¾ä»åº•éƒ¨å‘é¡¶éƒ¨å·æ›²çš„ç¿»é¡µåŠ¨ç”»ï¼›curlDownï¼šè§†å›¾ä»é¡¶éƒ¨å‘åº•éƒ¨å·æ›²çš„ç¿»é¡µåŠ¨ç”»ï¼›noneï¼šæ— è¿‡æ¸¡æ•ˆæœ</span><br><span class="line">        UIView.setAnimationTransition(.curlUp, for: view!, cache: true)</span><br><span class="line">        </span><br><span class="line">        UIView.setAnimationDelegate(self)  //è®¾ç½®åŠ¨ç”»çš„ä»£ç†ä¸ºå½“å‰çš„è§†å›¾æ§åˆ¶å™¨ï¼Œç”¨æ¥æ£€æµ‹åŠ¨ç”»çš„æ’­æ”¾çŠ¶æ€</span><br><span class="line">        UIView.setAnimationDidStop(#selector(ViewController.animationStop))  //è®¾ç½®åŠ¨ç”»ç»“æŸæ—¶çš„å›è°ƒæ–¹æ³•</span><br><span class="line">        </span><br><span class="line">        UIView.commitAnimations()  //ç»“æŸåŠ¨ç”»å—çš„è®¾ç½®ï¼Œå¹¶å¼€å§‹æ’­æ”¾åŠ¨ç”»</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @objc func animationStop()</span><br><span class="line">    &#123;</span><br><span class="line">        print(&quot;Animaton stop.&quot;)</span><br><span class="line">        self.view.viewWithTag(1)?.removeFromSuperview()</span><br><span class="line">    &#125;</span><br><span class="line">    */</span><br><span class="line">    </span><br><span class="line">    @objc func playAnimation() &#123;</span><br><span class="line">        </span><br><span class="line">        //ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºåŠ¨ç”»çš„æ—¶é•¿</span><br><span class="line">        //ç¬¬äºŒä¸ªå‚æ•°ä¸ºåŠ¨ç”»å»¶è¿Ÿæ—¶é—´</span><br><span class="line">        //ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯åŠ¨ç”»çš„å±æ€§è®¾ç½®</span><br><span class="line">        //ç¬¬å››ä¸ªå‚æ•°ä¸ºåŠ¨ç”»çš„ä¸»ä½“è®¾ç½®åŒºåŸŸ</span><br><span class="line">        //ç¬¬äº”ä¸ªå‚æ•°ä¸ºåŠ¨ç”»å®Œæˆåçš„å›è°ƒäº‹ä»¶</span><br><span class="line">        UIView.animate(withDuration: 5, delay: 0, options: [.curveEaseOut], animations: &#123;</span><br><span class="line">            </span><br><span class="line">            let view = self.view.viewWithTag(1)</span><br><span class="line">            view?.frame = CGRect(x: 40, y: 40, width: 0, height: 0)</span><br><span class="line">            view?.backgroundColor = UIColor.blue</span><br><span class="line">            view?.alpha = 0</span><br><span class="line">            </span><br><span class="line">        &#125;, completion: &#123; (value: Bool) in</span><br><span class="line">            </span><br><span class="line">            print(&quot;Animation stop.&quot;)</span><br><span class="line">            self.view.viewWithTag(1)?.removeFromSuperview()</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/">ä»£ç ä»“åº“</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS-%E5%8A%9F%E8%83%BDdemo/" rel="tag">iOS-åŠŸèƒ½demo</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-ä»£ç ä»“åº“/iOS-åŠŸèƒ½demo/ä½¿ç”¨UIImageViewæ’­æ”¾æ¡¢åŠ¨ç”»" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2021/04/02/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/%E4%BD%BF%E7%94%A8UIImageView%E6%92%AD%E6%94%BE%E6%A1%A2%E5%8A%A8%E7%94%BB/" class="article-date">
      <time datetime="2021-04-01T16:00:00.000Z" itemprop="datePublished">2021-04-02</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2021/04/02/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/iOS-%E5%8A%9F%E8%83%BDdemo/%E4%BD%BF%E7%94%A8UIImageView%E6%92%AD%E6%94%BE%E6%A1%A2%E5%8A%A8%E7%94%BB/">ä½¿ç”¨UIImageViewæ’­æ”¾æ¡¢åŠ¨ç”»</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        // Do any additional setup after loading the view, typically from a nib.</span><br><span class="line">        </span><br><span class="line">        //ä½¿ç”¨UIImageViewæ’­æ”¾æ¡¢åŠ¨ç”»</span><br><span class="line">        //ä¸€ä¸ªUIImageViewå›¾åƒè§†å›¾å¯ä»¥å­˜å‚¨ä¸€ä¸ªåŠ¨ç”»å›¾ç‰‡åºåˆ—ï¼ŒUIImageViewå›¾åƒè§†å›¾å¯¹è±¡çš„animationImageså±æ€§å¯ä»¥å­˜å‚¨ä¸€ä¸ªUIImageæ•°æ®ç±»å‹çš„å›¾åƒæ•°ç»„</span><br><span class="line">        var images = [UIImage]()</span><br><span class="line">        </span><br><span class="line">        for i in 1 ... 24 &#123;</span><br><span class="line">            images.append(UIImage(named: &quot;animation\(i)&quot;)!)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        let imageView = UIImageView(frame: CGRect(x: 0, y: 60, width: 335, height: 253))</span><br><span class="line">        imageView.animationImages = images</span><br><span class="line">        </span><br><span class="line">        imageView.animationDuration = 5</span><br><span class="line">        imageView.animationRepeatCount = 0  //åŠ¨ç”»å°†è¿›è¡Œä¸é™æ¬¡æ•°çš„å¾ªç¯æ’­æ”¾</span><br><span class="line">        imageView.startAnimating()  //å¼€å§‹æ’­æ”¾å¸§åŠ¨ç”»</span><br><span class="line">        </span><br><span class="line">        self.view.addSubview(imageView)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/">ä»£ç ä»“åº“</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS-%E5%8A%9F%E8%83%BDdemo/" rel="tag">iOS-åŠŸèƒ½demo</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/2/"></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/46/">46</a><a class="extend next" rel="next" href="/page/4/"></a>
    </nav>
  

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">

            <div class="footer-mid">

                &copy; 2021 å»–å®¶é¾™-13176171912

            </div>

            <div class="footer-mid">

                <a href="" target="_blank">            &nbsp;&nbsp;</a><a href="" target="_blank"></a> 
            </div>

            <div class="footer-mid">

                <a href="https://hexo.io/zh-cn/index.html" target="_blank"> ğŸ‘‰ Hexo[å®˜æ–¹æ–‡æ¡£] &nbsp;&nbsp;</a><a href="" target="_blank"></a> 

                <a href="https://liao-hexo.github.io/archives/" target="_blank"> ä¸ªäººç½‘ç«™[åšå®¢] &nbsp;&nbsp;</a><a href="" target="_blank"></a> 

                <a href="https://leetcode-cn.com/problemset/algorithms/" target="_blank"> LeetCode[ç®—æ³•] &nbsp;&nbsp;</a><a href="" target="_blank"></a> 

                <a href="https://github.com/Liao-Hexo" target="_blank"> GitHub[é¡¹ç›®] ğŸ‘ˆ &nbsp;&nbsp;</a><a href="" target="_blank"></a> 

            </div>

        
    </div>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>


<script src="/js/main.js"></script>


    <script>
        $(document).ready(function() {
            var backgroundnum = 1;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'xxxxx', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?xxxxxx";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>




<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(
            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>

<!--åŠ¨æ€çº¿æ¡èƒŒæ™¯-->
<script type="text/javascript"
color="220,220,220" opacity='0.3' zIndex="-2" count="0" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
</script>



</html>